{"version":3,"file":"VersionDialog-dbg.js","names":["VersionDialog","Object","extend","constructor","_constructor","oView","Object.prototype.constructor.call","_view","open","_open","_this","_temp","byId","Promise","resolve","Fragment","load","id","getId","name","controller","then","_Fragment$load","fragment","addDependent","sap","ui","require","oVersInfo","oVersion","setModel","JSONModel","e","reject","syncStyleClass","getController","getOwnerComponent","getContentDensityClass","onCloseDialog","_onCloseDialog","oEvt","getSource","getParent","close","onExit","_onExit"],"sources":["VersionDialog.ts"],"sourcesContent":["import Dialog from \"sap/m/Dialog\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport View from \"sap/ui/core/mvc/View\";\nimport syncStyleClass from \"sap/ui/core/syncStyleClass\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport VersionInfo from \"sap/ui/VersionInfo\";\nimport Component from \"../Component\";\nimport Object from \"sap/ui/base/Object\";\n\n/**\n * @namespace sapmarco.projectpages.classes\n */\nexport default class VersionDialog extends Object {\n\tprivate _view: View;\n\n\tconstructor(oView: View) {\n\t\tsuper();\n\t\tthis._view = oView;\n\t}\n\n\tpublic async open(): Promise<void> {\n\t\t// create dialog lazily\n\t\tif (!this._view.byId(\"VersionDialog\")) {\n\t\t\t// load asynchronous XML fragment\n\t\t\tconst fragment = <Control>await Fragment.load({\n\t\t\t\tid: this._view.getId(), //prefix to actual given id from within fragment\n\t\t\t\tname: \"sapmarco.projectpages.view.popup.VersionDialog\",\n\t\t\t\tcontroller: this,\n\t\t\t});\n\n\t\t\tthis._view.addDependent(fragment);\n\n\t\t\tsap.ui.require(\n\t\t\t\t[\"sap/ui/VersionInfo\"],\n\t\t\t\tasync function (oVersInfo: VersionInfo) {\n\t\t\t\t\treturn await oVersInfo.load(/* no args */).then((oVersion) => {\n\t\t\t\t\t\tfragment.setModel(new JSONModel(oVersion, true), \"versionInfo\");\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t\t\tsyncStyleClass(\n\t\t\t\t(\n\t\t\t\t\tthis._view.getController().getOwnerComponent() as Component\n\t\t\t\t).getContentDensityClass(),\n\t\t\t\tthis._view,\n\t\t\t\tfragment\n\t\t\t);\n\n\t\t\tawait (fragment as VersionDialog).open();\n\t\t} else {\n\t\t\tawait (this._view.byId(\"VersionDialog\") as VersionDialog).open();\n\t\t}\n\t}\n\n\tpublic onCloseDialog(oEvt: Event): void {\n\t\t((oEvt.getSource() as Control).getParent() as Dialog).close();\n\t}\n\n\tonExit() {\n\t\tdelete this._view;\n\t}\n}\n"],"mappings":";;;;;EAWA;AACA;AACA;EAFA,MAGqBA,aAAa,GAASC,MAAM,CAAAC,MAAA;IAGhDC,WAAW,WAAAC,aAACC,KAAW,EAAE;MACxBC,iCAAA;MACA,IAAI,CAACC,KAAK,GAAGF,KAAK;IACnB,CAAC;IAEYG,IAAI,WAAAC,MAAA;MAAA,IAAkB;QAAA,MAAAC,KAAA,GAE7B,IAAI;QAAA,MAAAC,KAAA;UAAA,IAAL,CAACD,KAAA,CAAKH,KAAK,CAACK,IAAI,CAAC,eAAe,CAAC;YACpC;YAAA,OAAAC,OAAA,CAAAC,OAAA,CACgCC,QAAQ,CAACC,IAAI,CAAC;cAC7CC,EAAE,EAAEP,KAAA,CAAKH,KAAK,CAACW,KAAK,CAAC,CAAC;cAAE;cACxBC,IAAI,EAAE,gDAAgD;cACtDC,UAAU,EAAAV;YACX,CAAC,CAAC,EAAAW,IAAA,WAAAC,cAAA;cAJF,MAAMC,QAAQ,GAAAD,cAIZ;cAEFZ,KAAA,CAAKH,KAAK,CAACiB,YAAY,CAACD,QAAQ,CAAC;cAEjCE,GAAG,CAACC,EAAE,CAACC,OAAO,CACb,CAAC,oBAAoB,CAAC,YACNC,SAAsB;gBAAA,IAAE;kBAAA,OAAAf,OAAA,CAAAC,OAAA,CAC1Bc,SAAS,CAACZ,IAAI,CAAc,CAAb,cAAc,CAACK,IAAI,CAAEQ,QAAQ,IAAK;oBAC7DN,QAAQ,CAACO,QAAQ,CAAC,IAAIC,SAAS,CAACF,QAAQ,EAAE,IAAI,CAAC,EAAE,aAAa,CAAC;kBAChE,CAAC,CAAC;gBACH,CAAC,QAAAG,CAAA;kBAAA,OAAAnB,OAAA,CAAAoB,MAAA,CAAAD,CAAA;gBAAA;cAAA,CACF,CAAC;cACDE,cAAc,CAEZxB,KAAA,CAAKH,KAAK,CAAC4B,aAAa,CAAC,CAAC,CAACC,iBAAiB,CAAC,CAAC,CAC7CC,sBAAsB,CAAC,CAAC,EAC1B3B,KAAA,CAAKH,KAAK,EACVgB,QACD,CAAC;cAAC,OAAAV,OAAA,CAAAC,OAAA,CAEKS,QAAQ,CAAmBf,IAAI,CAAC,CAAC,EAAAa,IAAA;YAAA;UAAA;YAAA,OAAAR,OAAA,CAAAC,OAAA,CAEjCJ,KAAA,CAAKH,KAAK,CAACK,IAAI,CAAC,eAAe,CAAC,CAAmBJ,IAAI,CAAC,CAAC,EAAAa,IAAA;UAAA;QAAA;QA7BjE;QAAA,OAAAR,OAAA,CAAAC,OAAA,CAAAH,KAAA,IAAAA,KAAA,CAAAU,IAAA,GAAAV,KAAA,CAAAU,IAAA;MA+BD,CAAC,QAAAW,CAAA;QAAA,OAAAnB,OAAA,CAAAoB,MAAA,CAAAD,CAAA;MAAA;IAAA;IAEMM,aAAa,WAAAC,eAACC,IAAW,EAAQ;MACrCA,IAAI,CAACC,SAAS,CAAC,CAAC,CAAaC,SAAS,CAAC,CAAC,CAAYC,KAAK,CAAC,CAAC;IAC9D,CAAC;IAEDC,MAAM,WAAAC,QAAA,EAAG;MACR,OAAO,IAAI,CAACtC,KAAK;IAClB;EAAC;EAAA,OAhDmBP,aAAa;AAAA"}
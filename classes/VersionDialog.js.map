{"version":3,"file":"VersionDialog.js","names":["VersionDialog","Object","constructor","oView","_view","open","byId","fragment","Fragment","load","id","getId","name","controller","addDependent","sap","ui","require","oVersInfo","then","oVersion","setModel","JSONModel","syncStyleClass","getController","getOwnerComponent","getContentDensityClass","onCloseDialog","oEvt","getSource","getParent","close","onExit"],"sources":["VersionDialog.ts"],"sourcesContent":["import Dialog from \"sap/m/Dialog\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport View from \"sap/ui/core/mvc/View\";\nimport syncStyleClass from \"sap/ui/core/syncStyleClass\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport VersionInfo from \"sap/ui/VersionInfo\";\nimport Component from \"../Component\";\nimport Object from \"sap/ui/base/Object\";\n\n/**\n * @namespace sapmarco.projectpages.classes\n */\nexport default class VersionDialog extends Object {\n\tprivate _view: View;\n\n\tconstructor(oView: View) {\n\t\tsuper();\n\t\tthis._view = oView;\n\t}\n\n\tpublic async open(): Promise<void> {\n\t\t// create dialog lazily\n\t\tif (!this._view.byId(\"VersionDialog\")) {\n\t\t\t// load asynchronous XML fragment\n\t\t\tconst fragment = <Control>await Fragment.load({\n\t\t\t\tid: this._view.getId(), //prefix to actual given id from within fragment\n\t\t\t\tname: \"sapmarco.projectpages.view.popup.VersionDialog\",\n\t\t\t\tcontroller: this,\n\t\t\t});\n\n\t\t\tthis._view.addDependent(fragment);\n\n\t\t\tsap.ui.require(\n\t\t\t\t[\"sap/ui/VersionInfo\"],\n\t\t\t\tasync function (oVersInfo: VersionInfo) {\n\t\t\t\t\treturn await oVersInfo.load(/* no args */).then((oVersion) => {\n\t\t\t\t\t\tfragment.setModel(new JSONModel(oVersion, true), \"versionInfo\");\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t\t\tsyncStyleClass(\n\t\t\t\t(\n\t\t\t\t\tthis._view.getController().getOwnerComponent() as Component\n\t\t\t\t).getContentDensityClass(),\n\t\t\t\tthis._view,\n\t\t\t\tfragment\n\t\t\t);\n\n\t\t\tawait (fragment as VersionDialog).open();\n\t\t} else {\n\t\t\tawait (this._view.byId(\"VersionDialog\") as VersionDialog).open();\n\t\t}\n\t}\n\n\tpublic onCloseDialog(oEvt: Event): void {\n\t\t((oEvt.getSource() as Control).getParent() as Dialog).close();\n\t}\n\n\tonExit() {\n\t\tdelete this._view;\n\t}\n}\n"],"mappings":";EAWA;AACA;AACA;EAFA,MAGqBA,aAAa,GAASC,MAAM;IAGhDC,WAAW,wBAACC,KAAW,EAAE;MACxB;MACA,IAAI,CAACC,KAAK,GAAGD,KAAK;IACnB,CAAC;IAEYE,IAAI,yBAAkB;MAClC;MACA,IAAI,CAAC,IAAI,CAACD,KAAK,CAACE,IAAI,CAAC,eAAe,CAAC,EAAE;QACtC;QACA,MAAMC,QAAQ,GAAY,MAAMC,QAAQ,CAACC,IAAI,CAAC;UAC7CC,EAAE,EAAE,IAAI,CAACN,KAAK,CAACO,KAAK,EAAE;UAAE;UACxBC,IAAI,EAAE,gDAAgD;UACtDC,UAAU,EAAE;QACb,CAAC,CAAC;QAEF,IAAI,CAACT,KAAK,CAACU,YAAY,CAACP,QAAQ,CAAC;QAEjCQ,GAAG,CAACC,EAAE,CAACC,OAAO,CACb,CAAC,oBAAoB,CAAC,EACtB,gBAAgBC,SAAsB,EAAE;UACvC,OAAO,MAAMA,SAAS,CAACT,IAAI,EAAC,cAAc,CAACU,IAAI,CAAEC,QAAQ,IAAK;YAC7Db,QAAQ,CAACc,QAAQ,CAAC,IAAIC,SAAS,CAACF,QAAQ,EAAE,IAAI,CAAC,EAAE,aAAa,CAAC;UAChE,CAAC,CAAC;QACH,CAAC,CACD;QACDG,cAAc,CAEZ,IAAI,CAACnB,KAAK,CAACoB,aAAa,EAAE,CAACC,iBAAiB,EAAE,CAC7CC,sBAAsB,EAAE,EAC1B,IAAI,CAACtB,KAAK,EACVG,QAAQ,CACR;QAED,MAAOA,QAAQ,CAAmBF,IAAI,EAAE;MACzC,CAAC,MAAM;QACN,MAAO,IAAI,CAACD,KAAK,CAACE,IAAI,CAAC,eAAe,CAAC,CAAmBD,IAAI,EAAE;MACjE;IACD,CAAC;IAEMsB,aAAa,0BAACC,IAAW,EAAQ;MACrCA,IAAI,CAACC,SAAS,EAAE,CAAaC,SAAS,EAAE,CAAYC,KAAK,EAAE;IAC9D,CAAC;IAEDC,MAAM,qBAAG;MACR,OAAO,IAAI,CAAC5B,KAAK;IAClB;EAAC;EAAA,OAhDmBJ,aAAa;AAAA"}
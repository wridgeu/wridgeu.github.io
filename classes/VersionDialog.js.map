{"version":3,"file":"VersionDialog.js","names":["VersionDialog","Object","extend","constructor","_constructor","oView","Object.prototype.constructor.call","this","_view","open","_open","_this","_temp","byId","Promise","resolve","Fragment","load","id","getId","name","controller","then","_Fragment$load","fragment","addDependent","sap","ui","require","oVersInfo","oVersion","setModel","JSONModel","e","reject","syncStyleClass","getController","getOwnerComponent","getContentDensityClass","onCloseDialog","_onCloseDialog","oEvt","getSource","getParent","close","onExit","_onExit"],"sources":["VersionDialog.ts"],"sourcesContent":["import Dialog from \"sap/m/Dialog\";\nimport Event from \"sap/ui/base/Event\";\nimport Control from \"sap/ui/core/Control\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport View from \"sap/ui/core/mvc/View\";\nimport syncStyleClass from \"sap/ui/core/syncStyleClass\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport VersionInfo from \"sap/ui/VersionInfo\";\nimport Component from \"../Component\";\nimport Object from \"sap/ui/base/Object\";\n\n/**\n * @namespace sapmarco.projectpages.classes\n */\nexport default class VersionDialog extends Object {\n\tprivate _view: View;\n\n\tconstructor(oView: View) {\n\t\tsuper();\n\t\tthis._view = oView;\n\t}\n\n\tpublic async open(): Promise<void> {\n\t\t// create dialog lazily\n\t\tif (!this._view.byId(\"VersionDialog\")) {\n\t\t\t// load asynchronous XML fragment\n\t\t\tconst fragment = <Control>await Fragment.load({\n\t\t\t\tid: this._view.getId(), //prefix to actual given id from within fragment\n\t\t\t\tname: \"sapmarco.projectpages.view.popup.VersionDialog\",\n\t\t\t\tcontroller: this,\n\t\t\t});\n\n\t\t\tthis._view.addDependent(fragment);\n\n\t\t\tsap.ui.require(\n\t\t\t\t[\"sap/ui/VersionInfo\"],\n\t\t\t\tasync function (oVersInfo: VersionInfo) {\n\t\t\t\t\treturn await oVersInfo.load(/* no args */).then((oVersion) => {\n\t\t\t\t\t\tfragment.setModel(new JSONModel(oVersion, true), \"versionInfo\");\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t);\n\t\t\tsyncStyleClass(\n\t\t\t\t(\n\t\t\t\t\tthis._view.getController().getOwnerComponent() as Component\n\t\t\t\t).getContentDensityClass(),\n\t\t\t\tthis._view,\n\t\t\t\tfragment\n\t\t\t);\n\n\t\t\tawait (fragment as VersionDialog).open();\n\t\t} else {\n\t\t\tawait (this._view.byId(\"VersionDialog\") as VersionDialog).open();\n\t\t}\n\t}\n\n\tpublic onCloseDialog(oEvt: Event): void {\n\t\t((oEvt.getSource() as Control).getParent() as Dialog).close();\n\t}\n\n\tonExit() {\n\t\tdelete this._view;\n\t}\n}\n"],"mappings":"mKAWA,MAGqBA,EAAsBC,EAAMC,OAAA,+CAGhDC,YAAW,SAAAC,EAACC,GACXC,6BAAAC,MACAA,KAAKC,MAAQH,CACd,EAEaI,KAAI,SAAAC,IAAA,IAAkB,MAAAC,EAE7BJ,KAAI,MAAAK,EAAA,eAAJD,EAAKH,MAAMK,KAAK,iBAAgB,CACpC,OAAAC,QAAAC,QACgCC,EAASC,KAAK,CAC7CC,GAAIP,EAAKH,MAAMW,QACfC,KAAM,iDACNC,WAAUV,KACTW,KAAA,SAAAC,GAJF,MAAMC,EAAQD,EAMdZ,EAAKH,MAAMiB,aAAaD,GAExBE,IAAIC,GAAGC,QACN,CAAC,sBAAqB,SACNC,GAAsB,IAAE,OAAAf,QAAAC,QAC1Bc,EAAUZ,OAAoBK,KAAMQ,IAChDN,EAASO,SAAS,IAAIC,EAAUF,EAAU,MAAO,cAAc,GAEjE,CAAC,MAAAG,GAAA,OAAAnB,QAAAoB,OAAAD,EAAA,IAEFE,EAEExB,EAAKH,MAAM4B,gBAAgBC,oBAC1BC,yBACF3B,EAAKH,MACLgB,GACC,OAAAV,QAAAC,QAEKS,EAA2Bf,QAAMa,KAAA,4BAAAR,QAAAC,QAEjCJ,EAAKH,MAAMK,KAAK,iBAAmCJ,QAAMa,KAAA,eA5BxD,GADT,OAAAR,QAAAC,QAAAH,KAAAU,KAAAV,EAAAU,KAAA,qBA+BD,CAAC,MAAAW,GAAA,OAAAnB,QAAAoB,OAAAD,EAAA,GAEMM,cAAa,SAAAC,EAACC,GAClBA,EAAKC,YAAwBC,YAAuBC,OACvD,EAEAC,OAAM,SAAAC,WACEvC,KAAKC,KACb,IAAC,OAhDmBR,CAAa"}
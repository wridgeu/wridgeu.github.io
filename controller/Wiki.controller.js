sap.ui.define(["../util/githubService","../util/markdownService","./Base.controller","sap/m/ActionListItem","sap/ui/model/json/JSONModel"],function(t,e,i,n,o){function s(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const a=t["getSelectedContent"];const c=t["getWikiIndex"];const d=t["getContentEditLink"];const r=e["markdownService"];const l=s(i);const h=l.extend("sapmarco.projectpages.controller.WikiController",{onInit:function t(){this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass());this._isPhone=this.getOwnerComponent().getModel("device").getData().system.phone;this._wikiContentModel=this.getView().setModel(new o,"convertedmarkdown").getModel("convertedmarkdown");this.getRouter().getRoute("RouteWiki").attachMatched(this._onRouteMatched.bind(this),this)},onThemeSwap:function t(){this.toggleTheme()},_onRouteMatched:async function t(){await this._initializeSidebar()},onBackHome:function t(){this.onNavBack()},_initializeSidebar:async function t(){const e=await c();const i=r.parse(e);const o=[...i.matchAll(/\wiki\/(.*?)\"/g)];o.forEach(t=>{this.byId("sidebar").addItem(new n({text:`${t[1]}`,press:this.onSidebarSelection.bind(this,t[1],this._wikiContentModel,this._isPhone)}))})},onSidebarSelection:async function t(e,i,n){const o=await a(e);const s=d(e);i.setData({markdown:`<div class="container">${r.parse(o)}</div>`,title:e,edit:s});if(n)this.byId("responsiveSplitter")._activatePage(1);if(this.byId("markdownSection"))this.byId("markdownSection").scrollTo(0,0)}});return h});
sap.ui.define(["../util/githubService","../util/markdownService","./Base.controller","sap/m/ActionListItem","sap/ui/model/json/JSONModel"],function(e,t,i,n,o){function s(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const a=e["getSelectedContent"];const d=e["getWikiIndex"];const c=t["markdownService"];const r=s(i);const l=r.extend("sapmarco.projectpages.controller.WikiController",{onInit:function e(){this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass());this._isPhone=this.getOwnerComponent().getModel("device").getData().system.phone;this._jsonModel=this.getView().setModel(new o,"convertedmarkdown").getModel("convertedmarkdown");this.getRouter().getRoute("RouteWiki").attachMatched(this._onRouteMatched.bind(this),this)},onThemeSwap:function e(){this.toggleTheme()},_onRouteMatched:async function e(){await this._initializeSidebar()},onBackHome:function e(){this.onNavBack();this.byId("wikiPage").setTitle(this.getView().getModel("i18n").getResourceBundle().getText("wiki"))},_initializeSidebar:async function e(){const t=await d();const i=c.parse(t);const o=[...i.matchAll(/\wiki\/(.*?)\"/g)];o.forEach(e=>{this.byId("sidebar").addItem(new n({text:`${e[1]}`,press:this.onSidebarSelection.bind(this,e[1],this._jsonModel,this._isPhone)}))})},onSidebarSelection:async function e(t,i,n){const o=await a(t);this.byId("wikiPage").setTitle(t);i.setData({markdown:`<div class="container">${c.parse(o)}</div>`});if(n)this.byId("responsiveSplitter")._activatePage(1);if(this.byId("markdownSection"))this.byId("markdownSection").scrollTo(0,0)}});return l});
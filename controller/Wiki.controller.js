"use strict";sap.ui.define(["../util/githubService","../util/markdownService","./Base.controller","sap/m/ActionListItem","sap/ui/model/json/JSONModel","sap/ui/Device"],function(t,e,n,i,o,s){"use strict";function r(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}const c=t["getSelectedContent"];const a=t["getWikiIndex"];const d=t["getContentEditLink"];const l=e["markdownService"];const u=r(n);const h=u.extend("sapmarco.projectpages.controller.WikiController",{onInit:function t(){this.getView().addStyleClass(this.getOwnerComponent().getContentDensityClass());this._wikiContentModel=new o({markdown:"",title:"",edit:""});this.getView().setModel(this._wikiContentModel,"convertedmarkdown");this.getRouter().getRoute("RouteWiki").attachMatched(this._onRouteMatched.bind(this),this)},onThemeSwap:function t(){this.toggleTheme()},_onRouteMatched:function t(){try{const t=this;return Promise.resolve(t._initializeSidebar()).then(function(){})}catch(t){return Promise.reject(t)}},_initializeSidebar:function t(){try{const t=this;return Promise.resolve(a()).then(function(e){const n=l.parse(e);const o=[...n.matchAll(/\wiki\/(.*?)\"/g)];o.forEach(e=>{t.byId("sidebar").addItem(new i({text:`${e[1]}`,press:t.onSidebarSelection.bind(t,e[1],t._wikiContentModel,s.system.phone)}))})})}catch(t){return Promise.reject(t)}},onSidebarSelection:function t(e,n,i){const o=this;void function(){try{return Promise.resolve(c(e)).then(function(t){const s=d(e);n.setData({markdown:`<div class="container">${l.parse(t)}</div>`,title:e,edit:s});if(i)setTimeout(()=>{o.byId("responsiveSplitter")._activatePage(1)},0);if(o.byId("markdownSection"))o.byId("markdownSection").scrollTo(0,0)})}catch(t){return Promise.reject(t)}}()}});return h});
//# sourceMappingURL=Wiki.controller.js.map
ace.define("ace/ext/spellcheck",[],function(e,t,n){"use strict";var i=e("../lib/event");t.contextMenuHandler=function(e){var t=e.target;var n=t.textInput.getElement();if(!t.selection.isEmpty())return;var r=t.getCursorPosition();var s=t.session.getWordRange(r.row,r.column);var o=t.session.getTextRange(s);t.session.tokenRe.lastIndex=0;if(!t.session.tokenRe.test(o))return;var l="";var c=o+" "+l;n.value=c;n.setSelectionRange(o.length,o.length+1);n.setSelectionRange(0,0);n.setSelectionRange(0,o.length);var u=false;i.addListener(n,"keydown",function e(){i.removeListener(n,"keydown",e);u=true});t.textInput.setInputHandler(function(e){if(e==c)return"";if(e.lastIndexOf(c,0)===0)return e.slice(c.length);if(e.substr(n.selectionEnd)==c)return e.slice(0,-c.length);if(e.slice(-2)==l){var i=e.slice(0,-2);if(i.slice(-1)==" "){if(u)return i.substring(0,n.selectionEnd);i=i.slice(0,-1);t.session.replace(s,i);return""}}return e})};var r=e("../editor").Editor;e("../config").defineOptions(r.prototype,"editor",{spellcheck:{set:function(e){var n=this.textInput.getElement();n.spellcheck=!!e;if(!e)this.removeListener("nativecontextmenu",t.contextMenuHandler);else this.on("nativecontextmenu",t.contextMenuHandler)},value:true}})});(function(){ace.require(["ace/ext/spellcheck"],function(e){if(typeof module=="object"&&typeof exports=="object"&&module){module.exports=e}})})();
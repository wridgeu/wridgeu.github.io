ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";var r=e("../lib/oop");var a=e("./text_highlight_rules").TextHighlightRules;var o=function(e){var t="[_:a-zA-ZÀ-￿][-_:.a-zA-Z0-9À-￿]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:true},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]};if(this.constructor===o)this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]});this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){n.splice(0);return this.token}}];this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(a.prototype);r.inherits(o,a);t.XmlHighlightRules=o});ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,n){"use strict";var r=e("../../lib/oop");var a=e("../behaviour").Behaviour;var o=e("../../token_iterator").TokenIterator;var i=e("../../lib/lang");function l(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}var u=function(){this.add("string_dquotes","insertion",function(e,t,n,r,a){if(a=='"'||a=="'"){var i=a;var u=r.doc.getTextRange(n.getSelectionRange());if(u!==""&&u!=="'"&&u!='"'&&n.getWrapBehavioursEnabled()){return{text:i+u+i,selection:false}}var s=n.getCursorPosition();var g=r.doc.getLine(s.row);var c=g.substring(s.column,s.column+1);var m=new o(r,s.row,s.column);var d=m.getCurrentToken();if(c==i&&(l(d,"attribute-value")||l(d,"string"))){return{text:"",selection:[1,1]}}if(!d)d=m.stepBackward();if(!d)return;while(l(d,"tag-whitespace")||l(d,"whitespace")){d=m.stepBackward()}var x=!c||c.match(/\s/);if(l(d,"attribute-equals")&&(x||c==">")||l(d,"decl-attribute-equals")&&(x||c=="?")){return{text:i+i,selection:[1,1]}}}});this.add("string_dquotes","deletion",function(e,t,n,r,a){var o=r.doc.getTextRange(a);if(!a.isMultiLine()&&(o=='"'||o=="'")){var i=r.doc.getLine(a.start.row);var l=i.substring(a.start.column+1,a.start.column+2);if(l==o){a.end.column++;return a}}});this.add("autoclosing","insertion",function(e,t,n,r,a){if(a==">"){var i=n.getSelectionRange().start;var u=new o(r,i.row,i.column);var s=u.getCurrentToken()||u.stepBackward();if(!s||!(l(s,"tag-name")||l(s,"tag-whitespace")||l(s,"attribute-name")||l(s,"attribute-equals")||l(s,"attribute-value")))return;if(l(s,"reference.attribute-value"))return;if(l(s,"attribute-value")){var g=u.getCurrentTokenColumn()+s.value.length;if(i.column<g)return;if(i.column==g){var c=u.stepForward();if(c&&l(c,"attribute-value"))return;u.stepBackward()}}if(/^\s*>/.test(r.getLine(i.row).slice(i.column)))return;while(!l(s,"tag-name")){s=u.stepBackward();if(s.value=="<"){s=u.stepForward();break}}var m=u.getCurrentTokenRow();var d=u.getCurrentTokenColumn();if(l(u.stepBackward(),"end-tag-open"))return;var x=s.value;if(m==i.row)x=x.substring(0,i.column-d);if(this.voidElements.hasOwnProperty(x.toLowerCase()))return;return{text:">"+"</"+x+">",selection:[1,1]}}});this.add("autoindent","insertion",function(e,t,n,r,a){if(a=="\n"){var i=n.getCursorPosition();var l=r.getLine(i.row);var u=new o(r,i.row,i.column);var s=u.getCurrentToken();if(s&&s.type.indexOf("tag-close")!==-1){if(s.value=="/>")return;while(s&&s.type.indexOf("tag-name")===-1){s=u.stepBackward()}if(!s){return}var g=s.value;var c=u.getCurrentTokenRow();s=u.stepBackward();if(!s||s.type.indexOf("end-tag")!==-1){return}if(this.voidElements&&!this.voidElements[g]){var m=r.getTokenAt(i.row,i.column+1);var l=r.getLine(c);var d=this.$getIndent(l);var x=d+r.getTabString();if(m&&m.value==="</"){return{text:"\n"+x+"\n"+d,selection:[1,x.length,1,x.length]}}else{return{text:"\n"+x}}}}}})};r.inherits(u,a);t.XmlBehaviour=u});ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(e,t,n){"use strict";var r=e("../../lib/oop");var a=e("../../lib/lang");var o=e("../../range").Range;var i=e("./fold_mode").FoldMode;var l=e("../../token_iterator").TokenIterator;var u=t.FoldMode=function(e,t){i.call(this);this.voidElements=e||{};this.optionalEndTags=r.mixin({},this.voidElements);if(t)r.mixin(this.optionalEndTags,t)};r.inherits(u,i);var s=function(){this.tagName="";this.closing=false;this.selfClosing=false;this.start={row:0,column:0};this.end={row:0,column:0}};function g(e,t){return e.type.lastIndexOf(t+".xml")>-1}(function(){this.getFoldWidget=function(e,t,n){var r=this._getFirstTagInLine(e,n);if(!r)return this.getCommentFoldWidget(e,n);if(r.closing||!r.tagName&&r.selfClosing)return t=="markbeginend"?"end":"";if(!r.tagName||r.selfClosing||this.voidElements.hasOwnProperty(r.tagName.toLowerCase()))return"";if(this._findEndTagInLine(e,n,r.tagName,r.end.column))return"";return"start"};this.getCommentFoldWidget=function(e,t){if(/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t)))return"start";return""};this._getFirstTagInLine=function(e,t){var n=e.getTokens(t);var r=new s;for(var a=0;a<n.length;a++){var o=n[a];if(g(o,"tag-open")){r.end.column=r.start.column+o.value.length;r.closing=g(o,"end-tag-open");o=n[++a];if(!o)return null;r.tagName=o.value;r.end.column+=o.value.length;for(a++;a<n.length;a++){o=n[a];r.end.column+=o.value.length;if(g(o,"tag-close")){r.selfClosing=o.value=="/>";break}}return r}else if(g(o,"tag-close")){r.selfClosing=o.value=="/>";return r}r.start.column+=o.value.length}return null};this._findEndTagInLine=function(e,t,n,r){var a=e.getTokens(t);var o=0;for(var i=0;i<a.length;i++){var l=a[i];o+=l.value.length;if(o<r)continue;if(g(l,"end-tag-open")){l=a[i+1];if(l&&l.value==n)return true}}return false};this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new s;do{if(g(t,"tag-open")){n.closing=g(t,"end-tag-open");n.start.row=e.getCurrentTokenRow();n.start.column=e.getCurrentTokenColumn()}else if(g(t,"tag-name")){n.tagName=t.value}else if(g(t,"tag-close")){n.selfClosing=t.value=="/>";n.end.row=e.getCurrentTokenRow();n.end.column=e.getCurrentTokenColumn()+t.value.length;e.stepForward();return n}}while(t=e.stepForward());return null};this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new s;do{if(g(t,"tag-open")){n.closing=g(t,"end-tag-open");n.start.row=e.getCurrentTokenRow();n.start.column=e.getCurrentTokenColumn();e.stepBackward();return n}else if(g(t,"tag-name")){n.tagName=t.value}else if(g(t,"tag-close")){n.selfClosing=t.value=="/>";n.end.row=e.getCurrentTokenRow();n.end.column=e.getCurrentTokenColumn()+t.value.length}}while(t=e.stepBackward());return null};this._pop=function(e,t){while(e.length){var n=e[e.length-1];if(!t||n.tagName==t.tagName){return e.pop()}else if(this.optionalEndTags.hasOwnProperty(n.tagName)){e.pop();continue}else{return null}}};this.getFoldWidgetRange=function(e,t,n){var r=this._getFirstTagInLine(e,n);if(!r){return this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length)}var a=r.closing||r.selfClosing;var i=[];var u;if(!a){var s=new l(e,n,r.start.column);var g={row:n,column:r.start.column+r.tagName.length+2};if(r.start.row==r.end.row)g.column=r.end.column;while(u=this._readTagForward(s)){if(u.selfClosing){if(!i.length){u.start.column+=u.tagName.length+2;u.end.column-=2;return o.fromPoints(u.start,u.end)}else continue}if(u.closing){this._pop(i,u);if(i.length==0)return o.fromPoints(g,u.start)}else{i.push(u)}}}else{var s=new l(e,n,r.end.column);var c={row:n,column:r.start.column};while(u=this._readTagBackward(s)){if(u.selfClosing){if(!i.length){u.start.column+=u.tagName.length+2;u.end.column-=2;return o.fromPoints(u.start,u.end)}else continue}if(!u.closing){this._pop(i,u);if(i.length==0){u.start.column+=u.tagName.length+2;if(u.start.row==u.end.row&&u.start.column<u.end.column)u.start.column=u.end.column;return o.fromPoints(u.start,c)}}else{i.push(u)}}}}}).call(u.prototype)});ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],function(e,t,n){"use strict";var r=e("../lib/oop");var a=e("../lib/lang");var o=e("./text").Mode;var i=e("./xml_highlight_rules").XmlHighlightRules;var l=e("./behaviour/xml").XmlBehaviour;var u=e("./folding/xml").FoldMode;var s=e("../worker/worker_client").WorkerClient;var g=function(){this.HighlightRules=i;this.$behaviour=new l;this.foldingRules=new u};r.inherits(g,o);(function(){this.voidElements=a.arrayToMap([]);this.blockComment={start:"\x3c!--",end:"--\x3e"};this.createWorker=function(e){var t=new s(["ace"],"ace/mode/xml_worker","Worker");t.attachToDocument(e.getDocument());t.on("error",function(t){e.setAnnotations(t.data)});t.on("terminate",function(){e.clearAnnotations()});return t};this.$id="ace/mode/xml"}).call(g.prototype);t.Mode=g});(function(){ace.require(["ace/mode/xml"],function(e){if(typeof module=="object"&&typeof exports=="object"&&module){module.exports=e}})})();
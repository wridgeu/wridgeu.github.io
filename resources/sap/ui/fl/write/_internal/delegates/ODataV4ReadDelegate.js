/*
 * ! OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define([],function(){"use strict";function e(e){if(e&&e.$Type){if(e.$Type.toLowerCase().indexOf("edm")!==0){return true}}return false}function a(e,a){return a.some(function(a){if(e.startsWith(a)){return true}})}function t(t,r,i,o,n,v,u){var l={name:t,bindingPath:t,entityType:o};var s=i["@com.sap.vocabularies.UI.v1.DataFieldDefault"];var d=s&&s.Label||i["@com.sap.vocabularies.Common.v1.Label"];l.label=d||"[LABEL_MISSING: "+t+"]";var c=i["@com.sap.vocabularies.UI.v1.Hidden"];l.hideFromReveal=c;if(c&&c.$Path){l.hideFromReveal=n.getBindingContext().getProperty(c.$Path)}var m;if(!l.hideFromReveal){m=i["@com.sap.vocabularies.Common.v1.FieldControl"];if(m){l.hideFromReveal=m.$EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden"}}m=i["@com.sap.vocabularies.Common.v1.FieldControl"];var p=m&&m.Path;if(p&&!l.hideFromReveal){var f=n.getBinding(v)instanceof sap.ui.model.ListBinding;if(!f){var g=n.getBindingContext().getProperty(p);l.hideFromReveal=g===0}}if(s&&(s.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||s.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||s.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction"||s.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){l.unsupported=true}if(a(t,u)||e(r)){l.unsupported=true}return l}function r(e,a,r,i,o){var n=[];var v="";var u=[];var l;for(v in e){l=e[v];if(l.$kind==="NavigationProperty"){u.push(v)}}for(v in e){l=e[v];if(l.$kind==="Property"){var s=r.getObject("/"+a+"/"+v+"@");var d=t(v,l,s,a,i,o,u);n.push(d)}}return n}function i(e,a){if(a.path){return a.path}var t=e.getBindingContext();if(t){return t.getPath()}}function o(e,a,t){var o=e.getModel(t.modelName);if(o){if(o.isA("sap.ui.model.odata.v4.ODataModel")){var n=o.getMetaModel();var v=i(e,t);if(v){var u=n.getMetaContext(v);var l=u.getObject();var s=u.getObject(l.$Type);return r(s,l.$Type,n,e,a)}}}return Promise.resolve([])}var n={getPropertyInfo:function(e){return Promise.resolve().then(function(){return o(e.element,e.aggregationName,e.payload)})}};return n});
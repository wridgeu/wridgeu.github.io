/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/extend"],function(e){"use strict";var t={};var n=["width","height","url","_settings"];function r(e,t){var r={};var i=[];n.forEach(function(n){var o=Promise.resolve().then(e.getProperty.bind(e,t,n)).then(function(e){if(e!==undefined){r[n]=e}});i.push(o)});return Promise.all(i).then(function(){return r})}function i(t,n,r){var i=e({_settings:r},r);return Promise.resolve().then(t.applySettings.bind(t,n,i))}t.applyChange=function(e,t,n){var o=n.modifier;var a=e.getDefinition();return o.getControlMetadata(t).then(function(e){if(e.getName()!=="sap.ui.fl.util.IFrame"){return Promise.reject(new Error("UpdateIFrame only for sap.ui.fl.util.IFrame"))}return r(o,t)}).then(function(n){e.setRevertData({originalSettings:n});return i(o,t,a.settings)})};t.revertChange=function(e,t,n){var r=e.getRevertData();return Promise.resolve().then(function(){if(r){if(r.originalSettings._settings&&r.originalSettings._settings.url){r.originalSettings.url=r.originalSettings._settings.url}return i(n.modifier,t,r.originalSettings)}return Promise.reject(new Error("Attempt to revert an unapplied change."))}).then(function(){e.resetRevertData()})};t.completeChangeContent=function(e,t){var r=e.getDefinition();if(!t.content||!Object.keys(t.content).some(function(e){return n.indexOf(e)!==-1})){throw new Error("oSpecificChangeInfo attribute required")}r.settings=t.content};return t},true);
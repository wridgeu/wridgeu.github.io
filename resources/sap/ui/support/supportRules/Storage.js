/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/support/supportRules/RuleSerializer","sap/ui/support/supportRules/Constants"],function(e,t){"use strict";function E(e){return window.btoa(unescape(encodeURIComponent(e)))}function n(e){return decodeURIComponent(escape(window.atob(e)))}var _=localStorage,r={get cookie(){return document.cookie},set cookie(e){document.cookie=e}};return{getRules:function(){var E=[],r;try{r=_.getItem(t.LOCAL_STORAGE_TEMP_RULES_KEY);if(!r){return null}E=JSON.parse(n(r));E=E.map(function(t){return e.deserialize(t,true)})}catch(e){}return E},setRules:function(e){var n=E(JSON.stringify(e));_.setItem(t.LOCAL_STORAGE_TEMP_RULES_KEY,n)},getSelectedRules:function(){var e=_.getItem(t.LOCAL_STORAGE_SELECTED_RULES_KEY);if(!e){return null}return JSON.parse(e)},setSelectedRules:function(e){_.setItem(t.LOCAL_STORAGE_SELECTED_RULES_KEY,JSON.stringify(e))},setSelectedContext:function(e){_.setItem(t.LOCAL_STORAGE_SELECTED_CONTEXT_KEY,JSON.stringify(e))},getSelectedContext:function(){return JSON.parse(_.getItem(t.LOCAL_STORAGE_SELECTED_CONTEXT_KEY))},setSelectedScopeComponents:function(e){_.setItem(t.LOCAL_STORAGE_SELECTED_CONTEXT_COMPONENT_KEY,JSON.stringify(e))},getSelectedScopeComponents:function(){var e=_.getItem(t.LOCAL_STORAGE_SELECTED_CONTEXT_COMPONENT_KEY);return JSON.parse(e)},removeSelectedRules:function(e){this.setRules(e)},setVisibleColumns:function(e){_.setItem(t.LOCAL_STORAGE_SELECTED_VISIBLE_COLUMN_KEY,JSON.stringify(e))},getVisibleColumns:function(){return JSON.parse(_.getItem(t.LOCAL_STORAGE_SELECTED_VISIBLE_COLUMN_KEY))},getSelectionPresets:function(){return JSON.parse(_.getItem(t.LOCAL_STORAGE_SELECTION_PRESETS_KEY))},getCustomPresets:function(){return JSON.parse(_.getItem(t.LOCAL_STORAGE_CUSTOM_PRESETS_KEY))},setSelectionPresets:function(e){_.setItem(t.LOCAL_STORAGE_SELECTION_PRESETS_KEY,JSON.stringify(e))},setCustomPresets:function(e){_.setItem(t.LOCAL_STORAGE_CUSTOM_PRESETS_KEY,JSON.stringify(e))},removeAllData:function(){_.removeItem(t.LOCAL_STORAGE_TEMP_RULES_KEY);_.removeItem(t.LOCAL_STORAGE_SELECTED_RULES_KEY);_.removeItem(t.LOCAL_STORAGE_SELECTED_CONTEXT_KEY);_.removeItem(t.LOCAL_STORAGE_SELECTED_CONTEXT_COMPONENT_KEY);_.removeItem(t.LOCAL_STORAGE_SELECTED_VISIBLE_COLUMN_KEY);_.removeItem(t.LOCAL_STORAGE_SELECTION_PRESETS_KEY);_.removeItem(t.LOCAL_STORAGE_CUSTOM_PRESETS_KEY);_.removeItem(t.LOCAL_STORAGE_CUSTOM_PRESETS_KEY);_.removeItem(t.LOCAL_STORAGE_TEMP_RULES_DISABLED_WARNED)},createPersistenceCookie:function(e,t){r.cookie=e+"="+t},readPersistenceCookie:function(e){var t=e+"=",E=decodeURIComponent(r.cookie),n=E.split(";"),_="";for(var o=0;o<n.length;o++){var S=n[o];while(S.charAt(0)==" "){S=S.substring(1)}if(S.indexOf(t)==0){_=S.substring(t.length,S.length);return _}}return _},deletePersistenceCookie:function(e){r.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},markTempRulesDisabledWarned:function(){_.setItem(t.LOCAL_STORAGE_TEMP_RULES_DISABLED_WARNED,true)},getTempRulesDisabledWarned:function(){return _.getItem(t.LOCAL_STORAGE_TEMP_RULES_DISABLED_WARNED)},_setStorage:function(e){_=e},_getStorage:function(){return _},_setCookieInterface:function(e){r=e},_getCookieInterface:function(){return r}}},true);
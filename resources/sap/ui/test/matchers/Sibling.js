/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log","sap/ui/test/matchers/Matcher"],function(e,r){"use strict";var t=e.getLogger("sap.ui.test.matchers.Sibling");var i=new r;return function(e,r){return function(n){if(!e){t.debug("No sibling was defined so no controls will be filtered.");return true}var s=false;var o;if(typeof e==="string"){var u=i._getApplicationWindow();o=u.sap.ui.require("sap/ui/core/Core").byId(e)}else{o=e}if(r&&r.useDom){var l=-1;var g=-1;var f=o.getDomRef().parentNode;for(var d=0;d<f.children.length;d+=1){var b=f.children[d].getAttribute("data-sap-ui");if(b===o.getId()){l=d}if(b===n.getId()){g=d}}if(g>-1){if(r.prev){if(g<l){s=true}else{t.debug("Control '"+n+"' has sibling '"+o+"' but it isn't ordered before the sibling")}}else if(r.next){if(g>l){s=true}else{t.debug("Control '"+n+"' has sibling '"+o+"' but it isn't ordered after the sibling")}}else{t.debug("Sibling order should be defined")}}}else{var v=o.getParent();var c=0;var h=r&&r.level>=0&&r.level||Number.MAX_SAFE_INTEGER;while(c<h&&v&&!s){var p=a(v.mAggregations);p.forEach(function(e){if(e!==o){if(e===n){s=true}else{if(a(e.mAggregations).includes(n)){s=true}}}});c+=1;v=v.getParent()}}t.debug("Control '"+n+"' "+(s?"has":"does not have")+" sibling '"+o);return s}};function a(e){var r=[];for(var t in e){var i=e[t];if(Array.isArray(i)){r=r.concat(i.slice(0,20))}else if(i){r.push(i)}}r=r.filter(function(e){return e.getMetadata&&e.getMetadata().getName()&&e.$().length});return r}},true);
//# sourceMappingURL=Sibling.js.map
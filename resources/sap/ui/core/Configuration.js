/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["../Device","../base/Object","./AnimationMode","./ControlBehavior","./Locale","./format/TimezoneUtil","sap/ui/core/_ConfigurationProvider","sap/ui/core/date/CalendarWeekNumbering","sap/ui/core/Theming","sap/base/util/Version","sap/base/Log","sap/base/assert","sap/base/config","sap/base/Event","sap/base/strings/camelize","sap/base/util/deepClone","sap/base/i18n/Localization","sap/base/i18n/Formatting"],function(e,t,a,n,r,i,o,u,l,s,g,f,c,p,d,y,m,x){"use strict";var C;var b="1.116.0";var V;var v=Function.prototype.call.bind(Object.prototype.hasOwnProperty);function h(){var e="sapUiCompatversion";function t(t){var r=!t?a||n.toString():c.get({name:d(e+"-"+t.toLowerCase()),type:c.Type.String})||a||U[t]||n.toString();r=s(r.toLowerCase()==="edge"?b:r);return s(r.getMajor(),r.getMinor())}var a=c.get({name:e,type:c.Type.String});var n=s("1.14");V={};V._default=t();for(var r in U){V[r]=t(r)}return V}function S(){function t(){if(e.os.android){var t=navigator.userAgent.match(/\s([a-z]{2}-[a-z]{2})[;)]/i);if(t){return t[1]}}return navigator.language}return N(navigator.languages&&navigator.languages[0]||t()||navigator.userLanguage||navigator.browserLanguage)||new r("en")}function w(e,t){if(t==null){return}O[e]=L(e,t)}function L(e,t){if(t==null){return}switch(C[e].type){case"boolean":if(typeof t==="string"){if(C[e].defaultValue){return t.toLowerCase()!="false"}else{return t.toLowerCase()==="true"||t.toLowerCase()==="x"}}else{return!!t}case"string":return""+t;case"code":return typeof t==="function"?t:String(t);case"function":if(typeof t!=="function"){throw new Error("unsupported value")}return t;case"function[]":t.forEach(function(e){if(typeof e!=="function"){throw new Error("Not a function: "+e)}});return t.slice();case"string[]":if(Array.isArray(t)){return t}else if(typeof t==="string"){return t.split(/[ ,;]/).map(function(e){return e.trim()})}else{throw new Error("unsupported value")}case"object":if(typeof t!=="object"){throw new Error("unsupported value")}return t;case"Locale":var a=N(t);if(a||C[e].defaultValue==null){return a}else{throw new Error("unsupported value")}default:var n=C[e].type;if(typeof n==="object"){c._.checkEnum(n,t,e);return t}else{throw new Error("illegal state")}}}function T(e){var t=document.querySelector("META[name='"+e+"']"),a=t&&t.getAttribute("content");if(a){return a}}var C={theme:{type:"string",defaultValue:"base"},language:{type:"Locale",defaultValue:S()},timezone:{type:"string",defaultValue:i.getLocalTimezone()},formatLocale:{type:"Locale",defaultValue:null},calendarType:{type:"string",defaultValue:null},calendarWeekNumbering:{type:u,defaultValue:u.Default},trailingCurrencyCode:{type:"boolean",defaultValue:true},accessibility:{type:"boolean",defaultValue:true},autoAriaBodyRole:{type:"boolean",defaultValue:false,noUrl:true},animation:{type:"boolean",defaultValue:true},animationMode:{type:a,defaultValue:undefined},rtl:{type:"boolean",defaultValue:null},debug:{type:"boolean",defaultValue:false},inspect:{type:"boolean",defaultValue:false},originInfo:{type:"boolean",defaultValue:false},noConflict:{type:"boolean",defaultValue:false,noUrl:true},noDuplicateIds:{type:"boolean",defaultValue:true},trace:{type:"boolean",defaultValue:false,noUrl:true},modules:{type:"string[]",defaultValue:[],noUrl:true},areas:{type:"string[]",defaultValue:null,noUrl:true},onInit:{type:"code",defaultValue:undefined,noUrl:true},uidPrefix:{type:"string",defaultValue:"__",noUrl:true},ignoreUrlParams:{type:"boolean",defaultValue:false,noUrl:true},preload:{type:"string",defaultValue:"auto"},rootComponent:{type:"string",defaultValue:"",noUrl:true},preloadLibCss:{type:"string[]",defaultValue:[]},application:{type:"string",defaultValue:""},appCacheBuster:{type:"string[]",defaultValue:[]},bindingSyntax:{type:"string",defaultValue:"default",noUrl:true},versionedLibCss:{type:"boolean",defaultValue:false},manifestFirst:{type:"boolean",defaultValue:false},flexibilityServices:{type:"string",defaultValue:"/sap/bc/lrep"},whitelistService:{type:"string",defaultValue:null,noUrl:true},allowlistService:{type:"string",defaultValue:null,noUrl:true},frameOptions:{type:"string",defaultValue:"default",noUrl:true},frameOptionsConfig:{type:"object",defaultValue:undefined,noUrl:true},support:{type:"string[]",defaultValue:null},testRecorder:{type:"string[]",defaultValue:null},activeTerminologies:{type:"string[]",defaultValue:undefined},fileShareSupport:{type:"string",defaultValue:undefined,noUrl:true},securityTokenHandlers:{type:"function[]",defaultValue:[],noUrl:true},productive:{type:"boolean",defaultValue:false,noUrl:true},themeRoots:{type:"object",defaultValue:{},noUrl:true},"xx-placeholder":{type:"boolean",defaultValue:true},"xx-rootComponentNode":{type:"string",defaultValue:"",noUrl:true},"xx-appCacheBusterMode":{type:"string",defaultValue:"sync"},"xx-appCacheBusterHooks":{type:"object",defaultValue:undefined,noUrl:true},"xx-disableCustomizing":{type:"boolean",defaultValue:false,noUrl:true},"xx-viewCache":{type:"boolean",defaultValue:true},"xx-depCache":{type:"boolean",defaultValue:false},"xx-libraryPreloadFiles":{type:"string[]",defaultValue:[]},"xx-componentPreload":{type:"string",defaultValue:""},"xx-designMode":{type:"boolean",defaultValue:false},"xx-supportedLanguages":{type:"string[]",defaultValue:[]},"xx-bootTask":{type:"function",defaultValue:undefined,noUrl:true},"xx-suppressDeactivationOfControllerCode":{type:"boolean",defaultValue:false},"xx-lesssupport":{type:"boolean",defaultValue:false},"xx-handleValidation":{type:"boolean",defaultValue:false},"xx-fiori2Adaptation":{type:"string[]",defaultValue:[]},"xx-cache-use":{type:"boolean",defaultValue:true},"xx-cache-excludedKeys":{type:"string[]",defaultValue:[]},"xx-cache-serialization":{type:"boolean",defaultValue:false},"xx-nosync":{type:"string",defaultValue:""},"xx-waitForTheme":{type:"string",defaultValue:""},"xx-hyphenation":{type:"string",defaultValue:""},"xx-flexBundleRequestForced":{type:"boolean",defaultValue:false},"xx-skipAutomaticFlLibLoading":{type:"boolean",defaultValue:false},"xx-cssVariables":{type:"string",defaultValue:"false"},"xx-debugModuleLoading":{type:"boolean",defaultValue:false},statistics:{type:"boolean",defaultValue:false},"xx-acc-keys":{type:"boolean",defaultValue:false},"xx-measure-cards":{type:"boolean",defaultValue:false}};var U={"xx-test":"1.15",flexBoxPolyfill:"1.14",sapMeTabContainer:"1.14",sapMeProgessIndicator:"1.14",sapMGrowingList:"1.14",sapMListAsTable:"1.14",sapMDialogWithPadding:"1.14",sapCoreBindingSyntax:"1.24"};var A;var D;function P(){D=D||{__count:0};D.__count++;return D}function M(){if(D&&--D.__count===0){var e=D;delete D.__count;D=undefined;A&&A.fireLocalizationChanged(e)}}var z=t.extend("sap.ui.core.Configuration",{constructor:function(){g.error("Configuration is designed as a singleton and should not be created manually! "+"Please require 'sap/ui/core/Configuration' instead and use the module export directly without using 'new'.");return z}});var O={};var F=false;function B(){F=true;var e=window["sap-ui-config"]||{};e.oninit=e.oninit||e["evt-oninit"];for(var t in C){O[t]=Array.isArray(C[t].defaultValue)?[]:C[t].defaultValue;if(e.hasOwnProperty(t.toLowerCase())){w(t,e[t.toLowerCase()])}else if(!/^xx-/.test(t)&&e.hasOwnProperty("xx-"+t.toLowerCase())){w(t,e["xx-"+t.toLowerCase()])}}if(e.libs){O.modules=e.libs.split(",").map(function(e){return e.trim()+".library"}).concat(O.modules)}var a;if(!O.ignoreUrlParams){var n="sap-ui-";a=new URLSearchParams(window.location.search);if(a.has("sap-statistics")){var r=a.get("sap-statistics");w("statistics",r)}for(var t in C){if(C[t].noUrl){continue}var r=a.get(n+t);if(r==null&&!/^xx-/.test(t)){r=a.get(n+"xx-"+t)}if(r===""){O[t]=C[t].defaultValue}else{w(t,r)}}}var i=O["xx-fiori2Adaptation"];if(i.length===0||i.length===1&&i[0]==="false"){i=false}else if(i.length===1&&i[0]==="true"){i=true}O["xx-fiori2Adaptation"]=i;O["allowlistService"]=O["allowlistService"]||O["whitelistService"];if(!O["allowlistService"]){var o=T("sap.allowlistService")||T("sap.whitelistService");if(o){O["allowlistService"]=o;if(O["frameOptions"]==="default"){O["frameOptions"]="trusted"}}}if(O["frameOptions"]==="default"||O["frameOptions"]!=="allow"&&O["frameOptions"]!=="deny"&&O["frameOptions"]!=="trusted"){O["frameOptions"]="allow"}var u=O["frameOptionsConfig"];if(u){u.allowlist=u.allowlist||u.whitelist}if(O.flexibilityServices&&O.flexibilityServices!==C.flexibilityServices.defaultValue&&!O["xx-skipAutomaticFlLibLoading"]&&O.modules.indexOf("sap.ui.fl.library")==-1){O.modules.push("sap.ui.fl.library")}for(var t in C){if(O[t]!==C[t].defaultValue){g.info("  "+t+" = "+O[t])}}var l=z.getSyncCallBehavior();sap.ui.loader.config({reportSyncCalls:l});if(l&&e.__loaded){var s="[nosync]: configuration loaded via sync XHR";if(l===1){g.warning(s)}else{g.error(s)}}}var _;Object.assign(z,{getVersion:function(){if(O._version){return O._version}O._version=new s(b);return O._version},getCompatibilityVersion:function(e){var t=h();if(typeof e==="string"&&t[e]){return t[e]}return t._default},getTheme:l.getTheme,getPlaceholder:function(){return c.get({name:"sapUiXxPlaceholder",type:c.Type.Boolean,external:true,defaultValue:true})},setTheme:function(e){l.setTheme(e);return this},getLanguage:m.getLanguage,setLanguage:m.setLanguage,getLanguageTag:function(){return m.getLanguageTag().toString()},getSAPLogonLanguage:m.getSAPLogonLanguage,getTimezone:m.getTimezone,setTimezone:m.setTimezone,getCalendarType:x.getCalendarType,getCalendarWeekNumbering:x.getCalendarWeekNumbering,getRTL:m.getRTL,setRTL:m.setRTL,getLocale:function(){var e=m.getLanguageTag();return r._getCoreLocale(e)},isUI5CacheOn:function(){return z.getValue("xx-cache-use")},setUI5CacheOn:function(e){O["xx-cache-use"]=e;return this},isUI5CacheSerializationSupportOn:function(){return z.getValue("xx-cache-serialization")},setUI5CacheSerializationSupport:function(e){O["xx-cache-serialization"]=e;return this},getUI5CacheExcludedKeys:function(){return z.getValue("xx-cache-excludedKeys")},setCalendarType:function(e){x.setCalendarType.apply(x,arguments);return this},setCalendarWeekNumbering:function(e){x.setCalendarWeekNumbering.apply(x,arguments);return this},getFormatLocale:function(){return x.getLanguageTag().toString()},setFormatLocale:function(e){x.setLanguageTag.apply(x,arguments);return this},getLanguagesDeliveredWithCore:m.getLanguagesDeliveredWithCore,getSupportedLanguages:m.getSupportedLanguages,getAccessibility:n.isAccessibilityEnabled,getAutoAriaBodyRole:function(){return z.getValue("autoAriaBodyRole")},getAnimation:function(){var e=z.getAnimationMode();return e!==z.AnimationMode.minimal&&e!==z.AnimationMode.none},getAnimationMode:n.getAnimationMode,setAnimationMode:n.setAnimationMode,getFiori2Adaptation:function(){return z.getValue("xx-fiori2Adaptation")},getDebug:function(){return window["sap-ui-debug"]===true||c.get({name:"sapUiDebug",type:c.Type.Boolean,external:true})},getInspect:function(){return z.getValue("inspect")},getOriginInfo:function(){return z.getValue("originInfo")},getNoDuplicateIds:function(){return c.get({name:"sapUiNoDuplicateIds",type:c.Type.Boolean,defaultValue:true,external:true})},getTrace:function(){return z.getValue("trace")},getUIDPrefix:function(){return z.getValue("uidPrefix")},getDesignMode:function(){return c.get({name:"sapUiXxDesignMode",type:c.Type.Boolean,external:true,freeze:true})},getSuppressDeactivationOfControllerCode:function(){return c.get({name:"sapUiXxSuppressDeactivationOfControllerCode",type:c.Type.Boolean,external:true,freeze:true})},getControllerCodeDeactivated:function(){return z.getDesignMode()&&!z.getSuppressDeactivationOfControllerCode()},getApplication:function(){return z.getValue("application")},getRootComponent:function(){return z.getValue("rootComponent")},getAppCacheBuster:function(){return c.get({name:"sapUiAppCacheBuster",type:c.Type.StringArray,external:true,freeze:true})},getAppCacheBusterMode:function(){return c.get({name:"sapUiXxAppCacheBusterMode",type:c.Type.String,defaultValue:"sync",external:true,freeze:true})},getAppCacheBusterHooks:function(){return c.get({name:"sapUiXxAppCacheBusterHooks",type:c.Type.Object,defaultValue:undefined,freeze:true})},getDisableCustomizing:function(){return c.get({name:"sapUiXxDisableCustomizing",type:c.Type.Boolean})},getViewCache:function(){return z.getValue("xx-viewCache")},getPreload:function(){if(z.getDebug()===true){return""}var e=c.get({name:"sapUiPreload",type:c.Type.String,defaultValue:"auto",external:true});if(e==="auto"){if(window["sap-ui-optimized"]){e=sap.ui.loader.config().async?"async":"sync"}else{e=""}}return e},getSyncCallBehavior:function(){var e=0;var t={name:"sapUiXxNoSync",type:c.Type.String,external:true,freeze:true};var a=c.get(t);if(a==="warn"){e=1}else{t.type=c.Type.Boolean;if(c.get(t)){e=2}}return e},getDepCache:function(){return c.get({name:"sapUiXxDepCache",type:c.Type.Boolean,external:true})},getManifestFirst:function(){return c.get({name:"sapUiManifestFirst",type:c.Type.Boolean,external:true})},getFlexibilityServices:function(){var e=z.getValue("flexibilityServices")||[];if(typeof e==="string"){if(e[0]==="/"){e=[{url:e,layers:["ALL"],connector:"LrepConnector"}]}else{e=JSON.parse(e)}}O.flexibilityServices=e;return O.flexibilityServices},setFlexibilityServices:function(e){O.flexibilityServices=e.slice()},getComponentPreload:function(){return c.get({name:"sapUiXxComponentPreload",type:c.Type.String,external:true})||z.getPreload()},getFormatSettings:function(){return _},getFrameOptions:function(){return z.getValue("frameOptions")},getWhitelistService:function(){return z.getAllowlistService()},getAllowlistService:function(){return z.getValue("allowlistService")},getFileShareSupport:function(){return z.getValue("fileShareSupport")||undefined},getSupportMode:function(){return z.getValue("support")},getTestRecorderMode:function(){return z.getValue("testRecorder")},getStatistics:function(){return z.getStatisticsEnabled()},getStatisticsEnabled:function(){var e=z.getValue("statistics");try{e=e||window.localStorage.getItem("sap-ui-statistics")=="X"}catch(e){}return e},getNoNativeScroll:function(){return false},getHandleValidation:function(){return z.getValue("xx-handleValidation")},getHyphenation:function(){return z.getValue("xx-hyphenation")},getActiveTerminologies:function(){return c.get({name:"sapUiActiveTerminologies",type:c.Type.StringArray,defaultValue:undefined,external:true})},getSecurityTokenHandlers:function(){return z.getValue("securityTokenHandlers").slice()},getMeasureCards:function(){return z.getValue("xx-measure-cards")},setSecurityTokenHandlers:function(e){e.forEach(function(e){k(typeof e==="function","Not a function: "+e)});O.securityTokenHandlers=e.slice()},getBindingSyntax:function(){var e=c.get({name:"sapUiBindingSyntax",type:c.Type.String,defaultValue:"default",freeze:true});if(e==="default"){e=z.getCompatibilityVersion("sapCoreBindingSyntax").compareTo("1.26")<0?"simple":"complex"}return e},applySettings:function(e){function t(e,a){var n,r;for(n in a){r="set"+n.slice(0,1).toUpperCase()+n.slice(1);if(n==="formatSettings"&&_){t(_,a[n])}else if(typeof e[r]==="function"){e[r](a[n])}else{g.warning("Configuration.applySettings: unknown setting '"+n+"' ignored")}}}f(typeof e==="object","mSettings must be an object");P();t(z,e);M();return this},setCore:function(e){A=e;B()},getValue:function(e){var t;if(typeof e!=="string"||!v(C,e)){throw new TypeError("Parameter 'sName' must be the name of a valid configuration option (one of "+Object.keys(C).map(function(e){return"'"+e+"'"}).sort().join(", ")+")")}if(F||O.hasOwnProperty(e)){t=O[e]}else{if(!O.ignoreUrlParams&&!C[e].noUrl){var a=new URLSearchParams(window.location.search);t=a.get("sap-ui-"+e)||a.get("sap-"+e)}t=t?t:window["sap-ui-config"][e]||window["sap-ui-config"][e.toLowerCase()];try{t=t===undefined?C[e].defaultValue:L(e,t)}catch(a){t=C[e].defaultValue}}if(typeof C[e].type==="string"&&(C[e].type.endsWith("[]")||C[e].type==="object")){t=y(t)}return t}});z.AnimationMode=a;function N(e){try{if(e&&typeof e==="string"){return new r(e)}}catch(e){}}function k(e,t){if(!e){throw new Error(t)}}var j=t.extend("sap.ui.core.Configuration.FormatSettings",{constructor:function(){this.mSettings={}},getFormatLocale:function(){var e=x.getLanguageTag();return r._getCoreLocale(e)},_set:x._set,getCustomUnits:x.getCustomUnits,setCustomUnits:x.setCustomUnits,addCustomUnits:x.addCustomUnits,setUnitMappings:x.setUnitMappings,addUnitMappings:x.addUnitMappings,getUnitMappings:x.getUnitMappings,getDatePattern:x.getDatePattern,setDatePattern:x.setDatePattern,getTimePattern:x.getTimePattern,setTimePattern:x.setTimePattern,getNumberSymbol:x.getNumberSymbol,setNumberSymbol:x.setNumberSymbol,getCustomCurrencies:x.getCustomCurrencies,setCustomCurrencies:x.setCustomCurrencies,addCustomCurrencies:x.addCustomCurrencies,setFirstDayOfWeek:function(e){k(typeof e=="number"&&e>=0&&e<=6,"iValue must be an integer value between 0 and 6");x._set("weekData-firstDay",e);return this},_setDayPeriods:x._setDayPeriods,getLegacyDateFormat:x.getLegacyDateFormat,setLegacyDateFormat:x.setLegacyDateFormat,getLegacyTimeFormat:x.getLegacyTimeFormat,setLegacyTimeFormat:x.setLegacyTimeFormat,getLegacyNumberFormat:x.getLegacyNumberFormat,setLegacyNumberFormat:x.setLegacyNumberFormat,setLegacyDateCalendarCustomizing:x.setLegacyDateCalendarCustomizing,getLegacyDateCalendarCustomizing:x.getLegacyDateCalendarCustomizing,setTrailingCurrencyCode:x.setTrailingCurrencyCode,getTrailingCurrencyCode:x.getTrailingCurrencyCode,getCustomLocaleData:x.getCustomLocaleData});_=new j(this);m.attachChange(function(e){if(!D&&A){A.fireLocalizationChanged(p.getParameters(e))}else if(D){Object.assign(D,p.getParameters(e))}});x.attachChange(function(e){if(!D&&A){A.fireLocalizationChanged(p.getParameters(e))}else if(D){Object.assign(D,p.getParameters(e))}});return z});
//# sourceMappingURL=Configuration.js.map
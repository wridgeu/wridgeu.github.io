{"version":3,"file":"XMLTemplateProcessor.js","names":["sap","ui","define","DataType","BindingInfo","CustomData","Component","View","ViewType","XMLProcessingMode","EventHandlerResolver","ExtensionPoint","StashedControlSupport","SyncPromise","Log","ObjectPath","assert","LoaderExtensions","JSTokenizer","each","isEmptyObject","Configuration","parseScalarType","sType","sValue","sName","oContext","oRequireModules","oBindingInfo","parse","vValue","oType","getType","parseValue","context","locals","isValid","error","getName","Error","escape","localName","xmlNode","nodeName","XHTML_NAMESPACE","XMLNS_NAMESPACE","SVG_NAMESPACE","CORE_NAMESPACE","CORE_MVC_NAMESPACE","CUSTOM_DATA_NAMESPACE","SUPPORT_INFO_NAMESPACE","XML_COMPOSITE_NAMESPACE","UI5_INTERNAL_NAMESPACE","PREPROCESSOR_NAMESPACE_PREFIX","VIEW_SPECIAL_ATTRIBUTES","rVoidTags","getHandleChildrenStrategy","bAsync","fnCallback","syncStrategy","node","mOptions","pChild","aChildren","i","childNodes","length","push","unwrap","resolve","asyncStrategy","pChain","Promise","aChildPromises","chain","then","bind","all","XMLTemplateProcessor","loadTemplate","sTemplateName","sExtension","sResourceName","replace","loadResource","documentElement","loadTemplatePromise","async","oResult","parseViewAttributes","oView","attr","attributes","includes","name","value","enrichTemplateIds","enrichTemplateIdsPromise","parseTemplate","mSettings","parseTemplatePromise","settings","oParseConfig","vResult","isA","vContent","_isExtensionPoint","aSpliceArgs","concat","_aControls","Array","prototype","splice","apply","validateRequireContext","oRequireContext","sErrorMessage","rIdentifier","Object","keys","some","sKey","test","parseAndLoadRequireContext","sCoreContext","getAttributeNS","oModules","parseJS","e","reject","bAllLoaded","reduce","bAll","require","undefined","values","aLoadedModules","arguments","forEach","requireSync","fnTriggerExtensionPointProvider","oTargetControl","mAggregationsWithExtensionPoints","pProvider","aAppliedExtensionPoints","fnResolveExtensionPoints","sAggregationName","aExtensionPoints","oExtensionPoint","targetControl","fnExtClass","providerClass","applyExtensionPoint","p","ExtensionPointProvider","findNamespacePrefix","namespace","prefix","sCandidate","iCount","sRegisteredNamespace","lookupNamespaceURI","bEnrichFullIds","aResult","sInternalPrefix","pResultChain","rm","openStart","tagName","sId","voidStart","style","class","clazz","openEnd","voidEnd","text","str","unsafeHtml","close","renderControl","pContent","_sProcessingMode","debug","bDesignMode","getDesignMode","_sapui_declarativeSourceInfo","xmlRootNode","_oContainingView","isSubView","setAttributeNS","bWrapped","processNode","resolveResultPromises","vElement","spliceContentIntoResult","args","oWrapper","parentNode","removeChild","replaceChild","identity","createId","createErrorInfo","vError","getMetadata","sNodeSerialization","outerHTML","cloneNode","textContent","getId","normalizeRootNode","sNodeName","namespaceURI","ownerDocument","createElementNS","oOldParent","appendChild","sCurrentName","sViewName","_sFragmentName","oNewRoot","oTopView","iLoopCounter","createRegularControls","getClass","rootArea","rootNode","handleChildren","childNode","nodeType","createControls","findControlClass","sNamespaceURI","sLocalName","sClassName","mLibraries","getCore","getLoadedLibraries","sLibName","oLibrary","tagNames","getObjectFallback","oClassObject","get","pRequireContext","oClosestBinding","oAggregation","oConfig","bRootArea","bRootNodeInSubView","bRenderingRelevant","pResult","contentBound","bXHTML","getAttribute","aAttributes","sTextContent","document","createElement","oAttr","setAttribute","bVoid","toLowerCase","firstChild","oContent","HTMLTemplateElement","content","closestBinding","aggregation","config","aResults","acc","vControls","isArray","oControl","id","fnCreateView","oViewClass","mViewParameters","containingView","processingMode","fnScopedRunWithOwner","XMLView","createControlOrExtension","trim","oContainer","fnExtensionPointFactory","_factory","aChildControlPromises","children","oChildNode","aChildControl","aDefaultContent","aControls","sControlName","iControlNameStart","lastIndexOf","substring","sNameOrId","warning","vClass","fnClass","oClass","ns","sStyleClasses","aCustomData","mCustomSettings","sSupportData","bStashedControl","bViewRootNode","removeAttribute","oMetadata","mKnownSettings","getAllSettings","pSelfRequireContext","aRequiredModules","assign","sNamespace","oInfo","oController","objectBindings","model","mMetaContextsInfo","_calculatedModelMapping","message","metadataContexts","_preprocessMetadataContexts","indexOf","key","startsWith","visible","_iKind","type","hasOwnProperty","nodeValue","altTypes","split","filter","map","aEventHandlers","sEventHandler","vEventHandler","resolveEventHandler","_supportInfo","env","caller","info","customData","catch","oError","isEnriched","SequentialLegacy","handleChild","mAggregations","allAggregations","oNamedAggregation","fnCreateStashedControl","querySelector","oStashedNode","sControlId","createStashedControl","wrapperId","fnCreate","bPrevAsync","setUI5Attribute","path","j","aExtensionPointList","index","aggregationName","closestAggregationBindingCarrier","closestAggregationBinding","oLast","_nextSibling","multiple","template","getElementName","getDefaultAggregation","getAllAggregations","vNewControlInstance","pInstanceCreated","oOwnerComponent","getOwnerComponentFor","bIsAsyncComponent","hasAttribute","setId","fnCreateViewInstance","_sType","viewName","getComponentName","create","_create","JS","sFragmentPath","Fragment","fragmentName","load","oFragmentContent","fnCreateInstance","oInstance","applySettings","fnRunWithPreprocessor","vFinalInstance","addStyleClass","iLength","iSupportIndex","nodeid","controlid","sData","addSupportInfo","getCompositeAggregationName","aNodes","getElementsByTagName","sPrefix","sBinding","bAllowMultipleBindings","oCtx","mBinding","oBinding","checkFormatter","aFragments","formatter","parts","textFragments"],"sources":["XMLTemplateProcessor-dbg.js"],"mappings":"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"}
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/base/Object","sap/ui/core/LocaleData","./_Calendars"],function(e,t,r){"use strict";var n=e.extend("sap.ui.core.date.UniversalDate",{constructor:function(){var e=n.getClass();return this.createDate(e,arguments)}});n.UTC=function(){var e=n.getClass();return e.UTC.apply(e,arguments)};n.now=function(){return Date.now()};n.prototype.createDate=function(e,t){switch(t.length){case 0:return new e;case 1:return new e(t[0]instanceof Date?t[0].getTime():t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}};n.getInstance=function(e,t){var r,a;if(e instanceof n){e=e.getJSDate()}else if(!e){e=new Date}if(isNaN(e.getTime())){throw new Error("The given date object is invalid")}if(!t){t=sap.ui.getCore().getConfiguration().getCalendarType()}r=n.getClass(t);a=Object.create(r.prototype);a.oDate=e;a.sCalendarType=t;return a};n.getClass=function(e){if(!e){e=sap.ui.getCore().getConfiguration().getCalendarType()}return r.get(e)};["getDate","getMonth","getFullYear","getYear","getDay","getHours","getMinutes","getSeconds","getMilliseconds","getUTCDate","getUTCMonth","getUTCFullYear","getUTCDay","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","getTime","valueOf","getTimezoneOffset","toString","toDateString","setDate","setFullYear","setYear","setMonth","setHours","setMinutes","setSeconds","setMilliseconds","setUTCDate","setUTCFullYear","setUTCMonth","setUTCHours","setUTCMinutes","setUTCSeconds","setUTCMilliseconds"].forEach(function(e){n.prototype[e]=function(){return this.oDate[e].apply(this.oDate,arguments)}});n.prototype.getJSDate=function(){return this.oDate};n.prototype.getCalendarType=function(){return this.sCalendarType};n.prototype.getEra=function(){return n.getEraByDate(this.sCalendarType,this.oDate.getFullYear(),this.oDate.getMonth(),this.oDate.getDate())};n.prototype.setEra=function(e){};n.prototype.getUTCEra=function(){return n.getEraByDate(this.sCalendarType,this.oDate.getUTCFullYear(),this.oDate.getUTCMonth(),this.oDate.getUTCDate())};n.prototype.setUTCEra=function(e){};n.prototype.getWeek=function(e,t){i(t);return n.getWeekByDate(this.sCalendarType,this.getFullYear(),this.getMonth(),this.getDate(),e,t)};n.prototype.setWeek=function(e,t,r){i(r);var a=n.getFirstDateOfWeek(this.sCalendarType,e.year||this.getFullYear(),e.week,t,r);this.setFullYear(a.year,a.month,a.day)};n.prototype.getUTCWeek=function(e,t){i(t);return n.getWeekByDate(this.sCalendarType,this.getUTCFullYear(),this.getUTCMonth(),this.getUTCDate(),e,t)};n.prototype.setUTCWeek=function(e,t,r){i(r);var a=n.getFirstDateOfWeek(this.sCalendarType,e.year||this.getFullYear(),e.week,t,r);this.setUTCFullYear(a.year,a.month,a.day)};n.prototype.getQuarter=function(){return Math.floor(this.getMonth()/3)};n.prototype.getUTCQuarter=function(){return Math.floor(this.getUTCMonth()/3)};n.prototype.getDayPeriod=function(){if(this.getHours()<12){return 0}else{return 1}};n.prototype.getUTCDayPeriod=function(){if(this.getUTCHours()<12){return 0}else{return 1}};n.prototype.getTimezoneShort=function(){if(this.oDate.getTimezoneShort){return this.oDate.getTimezoneShort()}};n.prototype.getTimezoneLong=function(){if(this.oDate.getTimezoneLong){return this.oDate.getTimezoneLong()}};var a=7*24*60*60*1e3;n.getWeekByDate=function(e,r,n,a,i,u){i=i||sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var g=t.getInstance(i);var f=this.getClass(e);var l=s(f,r,i,u);var c=new f(f.UTC(r,n,a));var C,y,D,h,p;var T=(!u||u.minimalDaysInFirstWeek===undefined||u.firstDayOfWeek===undefined)&&g.firstDayStartsFirstWeek();if(T){C=o(l,c)}else{y=r-1;D=r+1;h=s(f,y,i,u);p=s(f,D,i,u);if(c>=p){r=D;C=0}else if(c<l){r=y;C=o(h,c)}else{C=o(l,c)}}return{year:r,week:C}};n.getFirstDateOfWeek=function(e,r,n,i,o){i=i||sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var u=t.getInstance(i);var g=this.getClass(e);var f=s(g,r,i,o);var l=new g(f.valueOf()+n*a);var c=(!o||o.minimalDaysInFirstWeek===undefined||o.firstDayOfWeek===undefined)&&u.firstDayStartsFirstWeek();if(c&&n===0&&f.getUTCFullYear()<r){return{year:r,month:0,day:1}}return{year:l.getUTCFullYear(),month:l.getUTCMonth(),day:l.getUTCDate()}};function i(e){if(e){if(e.firstDayOfWeek===undefined&&e.minimalDaysInFirstWeek!==undefined||e.firstDayOfWeek!==undefined&&e.minimalDaysInFirstWeek===undefined){throw new Error("Week config requires both firstDayOfWeek and minimalDaysInFirstWeek to be set")}}}function s(e,r,n,a){n=n||sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var i=t.getInstance(n);var s;var o;if(a&&a.minimalDaysInFirstWeek!==undefined&&a.firstDayOfWeek!==undefined){s=a.minimalDaysInFirstWeek;o=a.firstDayOfWeek}else{s=i.getMinimalDaysInFirstWeek();o=i.getFirstDayOfWeek()}var u=new e(e.UTC(r,0,1));var g=7;if(isNaN(u.getTime())){throw new Error("Could not determine the first day of the week, because the date "+"object is invalid")}while(u.getUTCDay()!==o){u.setUTCDate(u.getUTCDate()-1);g--}if(g<s){u.setUTCDate(u.getUTCDate()+7)}return u}function o(e,t){return Math.floor((t.valueOf()-e.valueOf())/a)}var u={};n.getEraByDate=function(e,t,r,n){var a=g(e),i=new Date(0).setUTCFullYear(t,r,n),s;for(var o=a.length-1;o>=0;o--){s=a[o];if(!s){continue}if(s._start&&i>=s._startInfo.timestamp){return o}if(s._end&&i<s._endInfo.timestamp){return o}}};n.getCurrentEra=function(e){var t=new Date;return this.getEraByDate(e,t.getFullYear(),t.getMonth(),t.getDate())};n.getEraStartDate=function(e,t){var r=g(e),n=r[t]||r[0];if(n._start){return n._startInfo}};function g(e){var r=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale(),n=t.getInstance(r),a=u[e];if(!a){var a=n.getEraDates(e);if(!a[0]){a[0]={_start:"1-1-1"}}for(var i=0;i<a.length;i++){var s=a[i];if(!s){continue}if(s._start){s._startInfo=f(s._start)}if(s._end){s._endInfo=f(s._end)}}u[e]=a}return a}function f(e){var t=e.split("-"),r,n,a;if(t[0]==""){r=-parseInt(t[1]);n=parseInt(t[2])-1;a=parseInt(t[3])}else{r=parseInt(t[0]);n=parseInt(t[1])-1;a=parseInt(t[2])}return{timestamp:new Date(0).setUTCFullYear(r,n,a),year:r,month:n,day:a}}return n});
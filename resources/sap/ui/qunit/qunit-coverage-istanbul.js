/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
(function(){"use strict";if(typeof QUnit==="undefined"){throw new Error("qunit-coverage-istanbul.js: QUnit is not loaded yet!")}function e(e){return e.replace(/\\/g,"/")}function t(n,r){if(typeof r==="string"){if(r.indexOf("[")===0){var i=r.slice(1,r.length-1).split(",");return i.some(function(r){return t(n,e(r.slice(1,-1)))})}else if(r.indexOf("//")===0){var o=r.slice(2,r.lastIndexOf("/"));var a=r.slice(r.lastIndexOf("/")+1);var u=new RegExp(o,a);return u.test(n)}else if(r.indexOf("#")===0){return window[r.slice(1)].call(window,n)}else{return n.indexOf(e(r))>-1}}else if(r instanceof Array){return r.some(function(e){return t(n,e)})}else if(r instanceof RegExp){return r.test(n)}else if(typeof r==="function"){return r.call(window,n)}}window["sap-ui-qunit-coverage"]="client";var n;var r=document.currentScript;function i(){var e,t;if(n){return n}if(r){if(r.hasAttribute("data-sap-ui-cover-only")){e=r.getAttribute("data-sap-ui-cover-only")}if(r.hasAttribute("data-sap-ui-cover-never")){t=r.getAttribute("data-sap-ui-cover-never")}}n={filter:e,antiFilter:t};return n}function o(e){var n=i(),r=n.filter,o=n.antiFilter;if(typeof o!=="undefined"&&t(e,o)){return false}else if(typeof r==="undefined"||t(e,r)){return true}else{return false}}function a(e){var t=new URL(e,document.baseURI);t.searchParams.set("instrument","true");return t.toString()}if(QUnit.urlParams.coverage){var u=HTMLScriptElement.prototype.setAttribute;HTMLScriptElement.prototype.setAttribute=function(e,t){if(e==="data-sap-ui-module"&&o(t||"")){this.src=a(this.src)}u.apply(this,arguments)};var s=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(e,t){if(typeof sap!=="undefined"&&sap.ui&&sap.ui.loader&&t&&t.endsWith(".js")&&o(sap.ui.loader._.guessResourceName(t)||"")){arguments[1]=a(t)}s.apply(this,arguments)};QUnit.done(function(){if(window.top!==window){return}sap.ui.require(["sap/base/util/fetch"],function(e){e("/.ui5/coverage/report",{method:"POST",body:JSON.stringify(window.top.__coverage__),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){var t=e.availableReports;var n=t.filter(function(e){return e.report==="html"})[0];if(!n){return}var r=document.body;var i=document.createElement("iframe");i.src="/.ui5/coverage/report/"+n.destination;i.style.border="none";i.style.width="100%";i.style.height="100vh";i.sandbox="allow-scripts";r.appendChild(i)})})})}var f=QUnit.config.urlConfig.some(function(e){return e.id==="coverage"});if(!f){QUnit.config.urlConfig.push({id:"coverage",label:"Enable coverage",tooltip:"Enable code coverage."})}})();
//# sourceMappingURL=qunit-coverage-istanbul.js.map
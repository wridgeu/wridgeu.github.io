/*!
* OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
*/
sap.ui.define(["sap/base/Log","sap/ui/integration/util/Utils","sap/base/strings/hyphenate","sap/base/strings/camelize"],function(t,e,i,n){"use strict";function o(){if(this.constructor===o){throw new TypeError('Abstract class "CustomElementBase" cannot be instantiated directly.')}return Reflect.construct(HTMLElement,[],this.constructor)}o.prototype=Object.create(HTMLElement.prototype);o.prototype.constructor=o;o.prototype.connectedCallback=function(){this._init();this._upgradeAllProperties();this._oControlInstance.placeAt(this.firstElementChild);this._attachEventListeners()};o.prototype.disconnectedCallback=function(){if(this._oControlInstance){this._oControlInstance.destroy();delete this._oControlInstance}if(this.firstElementChild){this.removeChild(this.firstElementChild)}};o.prototype.attributeChangedCallback=function(t,i,s){this._init();var r=n(t);if(e.isJson(s)){s=JSON.parse(s)}if(this._mAllProperties[r]){this._mAllProperties[r].set(this._oControlInstance,s)}else if(this._mAllAssociations[r]){var a=document.getElementById(s);if(a instanceof o){s=document.getElementById(s)._getControl()}this._mAllAssociations[r].set(this._oControlInstance,s)}};o.prototype._init=function(){if(!this._oControlInstance){this._oControlInstance=new this._ControlClass}if(!this.firstElementChild){var t=document.createElement("div");this.appendChild(t)}};o.prototype._getControl=function(){this._init();return this._oControlInstance};o.prototype._attachEventListeners=function(){Object.keys(this._oMetadata.getEvents()).map(function(t){this._oControlInstance.attachEvent(t,function(e){this.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:true}))},this)}.bind(this))};o.prototype._upgradeAllProperties=function(){this._aAllProperties.forEach(this._upgradeProperty.bind(this))};o.prototype._upgradeProperty=function(t){if(this[t]){var e=this[t];delete this[t];this[t]=e}};o.generateAccessors=function(t,e){e.forEach(function(e){Object.defineProperty(t,e,{get:function(){return this.getAttribute(i(e))},set:function(t){if(typeof t==="object"){t=JSON.stringify(t)}this.setAttribute(i(e),t)}})})};o.define=function(t,e,i){i=i||[];o.awaitDependencies(i).then(function(){window.customElements.define(t,e)})};o.awaitDependencies=function(t){var e=t.map(function(t){return window.customElements.whenDefined(t)});return Promise.all(e)};o.extend=function(t,e){function n(){return o.apply(this,arguments)}n.prototype=Object.create(o.prototype);n.prototype.constructor=n;var s=n.prototype,r="";s._ControlClass=t;s._oMetadata=t.getMetadata();s._mAllAssociations=s._oMetadata.getAllAssociations();s._mAllProperties=s._oMetadata.getAllProperties();s._aAllProperties=[];if(e&&e.customProperties){s._mAllProperties=Object.assign(s._mAllProperties,e.customProperties)}for(r in s._mAllProperties){if(e&&e.privateProperties&&e.privateProperties.indexOf(r)!==-1){continue}s._aAllProperties.push(r)}for(r in s._mAllAssociations){s._aAllProperties.push(r)}Object.defineProperty(n,"observedAttributes",{get:function(){var t=s._aAllProperties.map(i);return t}});o.generateAccessors(s,s._aAllProperties);return n};return o});
{"version":3,"file":"RequestDataProvider.js","names":["sap","ui","define","DataProvider","Log","ODataUtils","Core","Configuration","fetch","deepClone","RETRY_STATUS_CODES","aModes","aMethods","mDataTypeHeaders","json","xml","combineUrlAndParams","sUrl","oParameters","sParamsString","Object","entries","map","oParam","encodeURIComponent","indexOf","join","isJsonResponse","oResponse","sContentType","headers","get","isXmlResponse","RequestDataProvider","extend","metadata","library","properties","allowCustomDataType","type","defaultValue","associations","host","multiple","prototype","destroy","this","_iRetryAfterTimeout","clearTimeout","apply","arguments","getLastResponse","_lastResponse","getData","oRequestConfig","getSettings","request","pRequestChain","Promise","resolve","_oDestinations","process","_oCsrfTokenHandler","then","oRequest","resolveToken","bind","_fetch","catch","_handleExpiredToken","oError","isExpiredToken","resetTokenByRequest","sMessage","url","error","reject","getAllowCustomDataType","dataType","parameters","sDataType","mHeaders","mBatchRequests","batch","oBatchSerialized","vBody","sMethod","method","toUpperCase","bJsonRequest","_hasHeader","bGetMethod","includes","startsWith","_getRuntimeUrl","JSON","stringify","URLSearchParams","serializeBatchRequest","values","body","assign","options","mode","Headers","withCredentials","credentials","set","_modifyRequestBeforeSent","_isValidRequest","_request","vResult","vData","_deserializeBatchResponse","bNoRetry","fnFetch","_getFetchMethod","_getRequestSettings","bIsDestroyed","ok","text","sResponseText","aError","status","statusText","_retryRequest","parse","toString","window","DOMParser","parseFromString","iRetryAfter","_getRetryAfter","warning","setTimeout","vRetryAfter","retryAfter","Number","isInteger","match","parseInt","oRequestSettings","oCard","byId","getCard","oExtension","getAggregation","oHost","getHost","sResource","mOptions","sHeader","sValue","sKey","toLowerCase","sResponseBody","aBatchResponses","deserializeBatchResponse","aKeys","keys","mResult","forEach","iInd","mResponse","Response","responseText","oSettings","modifyRequestHeaders","fromEntries","modifyRequest","getDetails"],"sources":["RequestDataProvider-dbg.js"],"mappings":";;;;;AAKAA,IAAIC,GAAGC,OAAO,CACb,uCACA,eACA,mCACA,mBACA,4BACA,sBACA,2BACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAKA,IAAIC,EAAqB,CAAC,IAAK,KAE/B,IAAIC,EAAS,CAAC,UAAW,cAAe,QACxC,IAAIC,EAAW,CAAC,MAAO,OAAQ,OAAQ,MAAO,QAAS,SAAU,WACjE,IAAIC,EAAmB,CACtBC,KAAQ,wBACRC,IAAO,kCAGR,SAASC,EAAoBC,EAAMC,GAElC,IAAIC,EAAgBC,OAAOC,QAAQH,GAAaI,IAAI,SAAUC,GAC7D,OAAOC,mBAAmBD,EAAO,IAAM,IAAMC,mBAAmBD,EAAO,GACxE,GAEA,OAAON,GAAQA,EAAKQ,QAAQ,QAAU,EAAI,IAAM,KAAON,EAAcO,KAAK,IAC3E,CAEA,SAASC,EAAeC,GACvB,IAAIC,EAAeD,EAAUE,QAAQC,IAAI,gBAEzC,IAAKF,EAAc,CAClB,OAAO,KACR,CAEA,OAAOA,EAAaJ,QAAQ,uBAAyB,CACtD,CAEA,SAASO,EAAcJ,GACtB,IAAIC,EAAeD,EAAUE,QAAQC,IAAI,gBAEzC,IAAKF,EAAc,CAClB,OAAO,KACR,CAEA,OAAOA,EAAaJ,QAAQ,sBAAwB,GAAKI,EAAaJ,QAAQ,eAAiB,CAChG,CAqBA,IAAIQ,EAAsB9B,EAAa+B,OAAO,8CAA+C,CAC5FC,SAAU,CACTC,QAAS,qBAMTC,WAAY,CACXC,oBAAqB,CAAEC,KAAM,UAAWC,aAAc,QAGvDC,aAAe,CAIdC,KAAM,CACLH,KAAO,0BACPI,SAAU,WAOdV,EAAoBW,UAAUC,QAAU,WACvC,GAAIC,KAAKC,oBAAqB,CAC7BC,aAAaF,KAAKC,oBACnB,CAEA5C,EAAayC,UAAUC,QAAQI,MAAMH,KAAMI,UAC5C,EAEAjB,EAAoBW,UAAUO,gBAAkB,WAC/C,OAAOL,KAAKM,aACb,EAQAnB,EAAoBW,UAAUS,QAAU,WACvC,IAAIC,EAAiBR,KAAKS,cAAcC,QACvCC,EAAgBC,QAAQC,QAAQL,GAEjC,GAAIR,KAAKc,eAAgB,CACxBH,EAAgBX,KAAKc,eAAeC,QAAQP,EAC7C,CAEA,GAAIR,KAAKgB,mBAAoB,CAC5BL,EAAgBA,EAAcM,KAAK,SAAUC,GAC5C,OAAOlB,KAAKgB,mBAAmBG,aAAaD,EAC7C,EAAEE,KAAKpB,MACR,CAEAW,EAAgBA,EAAcM,KAAKjB,KAAKqB,OAAOD,KAAKpB,OAEpD,GAAIA,KAAKgB,mBAAoB,CAC5BL,EAAgBA,EAAcW,MAAMtB,KAAKuB,oBAAoBH,KAAKpB,MACnE,CAEA,OAAOW,CACR,EAEAxB,EAAoBW,UAAUyB,oBAAsB,SAAUC,GAC7D,GAAIxB,KAAKgB,mBAAmBS,eAAezB,KAAKK,mBAAoB,CAEnEL,KAAKgB,mBAAmBU,oBAAoB1B,KAAKS,cAAcC,SAE/D,OAAOV,KAAKO,UAAUe,MAAM,SAAUE,GACrC,MAAMA,CACP,EACD,CAEA,MAAMA,CACP,EAEArC,EAAoBW,UAAUuB,OAAS,SAAUb,GAChD,IAAImB,EAAW,kBAEf,IAAKnB,IAAmBA,EAAeoB,IAAK,CAC3CtE,EAAIuE,MAAMF,GACV,OAAOf,QAAQkB,OAAOH,EACvB,CAEA,IAAK3B,KAAK+B,0BAA4BvB,EAAewB,SAAU,CAC9D1E,EAAIuE,MAAM,sGACX,CAEA,IAAI1D,EAAOqC,EAAeoB,IACzBxD,EAAcoC,EAAeyB,WAC7BC,EAAalC,KAAK+B,0BAA4BvB,EAAewB,UAAa,OAC1EG,EAAW3B,EAAexB,SAAW,CAAC,EACtCoD,EAAiB5B,EAAe6B,MAChCC,EACApB,EACAqB,EACAC,EAAUhC,EAAeiC,QAAUjC,EAAeiC,OAAOC,eAAiB,MAC1EC,EAAe3C,KAAK4C,WAAWpC,EAAgB,eAAgB,oBAC/DqC,EAAa,CAAC,MAAO,QAAQC,SAASN,GAEvC,IAAMrE,EAAK4E,WAAW,KAAM,CAC3B5E,EAAO6B,KAAKgD,eAAexC,EAAeoB,IAC3C,CAEA,GAAIxD,EAAa,CAChB,GAAIuE,EAAc,CAEjBJ,EAAQU,KAAKC,UAAU9E,EACxB,MAAO,GAAIyE,EAAY,CACtB1E,EAAOD,EAAoBC,EAAMC,EAClC,KAAO,CAENmE,EAAQ,IAAIY,gBAAgB/E,EAC7B,CACD,CAEA,GAAIgE,EAAgB,CACnBE,EAAmB/E,EAAW6F,sBAAsB9E,OAAO+E,OAAOjB,IAClEG,EAAQD,EAAiBgB,KACzBnB,EAAW7D,OAAOiF,OAAO,CAAC,EAAGpB,EAAUG,EAAiBtD,QACzD,CAEAkC,EAAW,CACVU,IAAKzD,EACLqF,QAAS,CACRC,KAAMjD,EAAeiD,MAAQ,OAC7BhB,OAAQD,EACRxD,QAAS,IAAI0E,QAAQvB,KAIvB,GAAII,EAAO,CACVrB,EAASsC,QAAQF,KAAOf,CACzB,CAEA,GAAI/B,EAAemD,gBAAiB,CACnCzC,EAASsC,QAAQI,YAAc,SAChC,CAEA,IAAK1C,EAASsC,QAAQxE,QAAQC,IAAI,WAAalB,EAAiBmE,GAAY,CAC3EhB,EAASsC,QAAQxE,QAAQ6E,IAAI,SAAU9F,EAAiBmE,GACzD,CAEAhB,EAAWlB,KAAK8D,yBAAyB5C,EAAUlB,KAAKS,eAExD,IAAKT,KAAK+D,gBAAgB7C,GAAW,CACpC5D,EAAIuE,MAAMF,GACV,OAAOf,QAAQkB,OAAOH,EACvB,CAEA,OAAO3B,KAAKgE,SAAS9C,GACnBD,KAAK,SAAUgD,GACf,IAAIC,EAAQD,EAAQ,GAEpB,GAAI7B,EAAgB,CACnB,OAAOpC,KAAKmE,0BAA0B/B,EAAgB8B,EACvD,CAEA,OAAOA,CACR,EAAE9C,KAAKpB,MACT,EAEAb,EAAoBW,UAAUkE,SAAW,SAAU9C,EAAUkD,GAC5D,IAAIC,EAAUrE,KAAKsE,gBAAgBtE,KAAKuE,uBAExC,OAAOF,EAAQnD,EAASU,IAAKV,EAASsC,SACpCvC,KAAK,SAAUnC,GACf,GAAIkB,KAAKwE,aAAc,CACtB,OAAO5D,QAAQkB,OAAO,4EACvB,CAEA9B,KAAKM,cAAgBxB,EAErB,IAAKA,EAAU2F,GAAI,CAClB,OAAO3F,EAAU4F,OAAOzD,KAAK,SAAU0D,GACtC,IAAIC,EAAS,CAAC9F,EAAU+F,OAAS,IAAM/F,EAAUgG,WAAYhG,EAAW6F,EAAezD,GACvF,GAAIkD,EAAU,CACb,OAAOxD,QAAQkB,OAAO8C,EACvB,CAEA,OAAO5E,KAAK+E,cAAcH,EAC3B,EAAExD,KAAKpB,MACR,CAEA,OAAOlB,EAAU4F,OAAOzD,KAAK,SAAUiD,GACtC,GAAIrF,EAAeC,GAAY,CAC9B,IACCoF,EAAQjB,KAAK+B,MAAMd,EACpB,CAAE,MAAO1C,GACR,OAAOZ,QAAQkB,OAAO,CAACN,EAAOyD,WAAY,KAAM,KAAM/D,GACvD,CACD,MAAO,GAAIhC,EAAcJ,GAAY,CACpCoF,GAAQ,IAAKgB,OAAOC,WAAaC,gBAAgBlB,EAAO,WACzD,CAEA,MAAO,CAACA,EAAOpF,EAChB,EAED,EAAEsC,KAAKpB,MAAO,SAAUwB,GACvB,OAAOZ,QAAQkB,OAAO,CAACN,EAAOyD,WAAY,KAAM,KAAM/D,GACvD,EACF,EAQA/B,EAAoBW,UAAUiF,cAAgB,SAAUH,GACvD,IAAI9F,EAAY8F,EAAO,GACtB1D,EAAW0D,EAAO,GAClBS,EAAcrF,KAAKsF,eAAexG,GAEnC,IAAKlB,EAAmBkF,SAAShE,EAAU+F,QAAS,CAEnD,OAAOjE,QAAQkB,OAAO8C,EACvB,CAEA,IAAKS,EAAa,CACjB/H,EAAIiI,QAAQ,uGACZ,OAAO3E,QAAQkB,OAAO8C,EACvB,CAEA,GAAI5E,KAAKC,oBAAqB,CAC7B2E,EAAO,GAAK,mCACZ,OAAOhE,QAAQkB,OAAO8C,EACvB,CAEA,OAAO,IAAIhE,QAAQ,SAAUC,EAASiB,GACrC9B,KAAKC,oBAAsBuF,WAAW,WACrCxF,KAAKgE,SAAS9C,EAAU,MAAMD,KAAKJ,EAASiB,GAC5C9B,KAAKC,oBAAsB,IAC5B,EAAEmB,KAAKpB,MAAOqF,EAAc,IAC7B,EAAEjE,KAAKpB,MACR,EAOAb,EAAoBW,UAAUwF,eAAiB,SAAUxG,GACxD,IAAI0B,EAAiBR,KAAKS,cAAcC,QACvC+E,EAAc3G,EAAUE,QAAQC,IAAI,gBAAkBuB,EAAekF,WAEtE,IAAKD,EAAa,CACjB,OAAO,CACR,CAEA,GAAIE,OAAOC,UAAUH,GAAc,CAClC,OAAOA,CACR,CAEA,IAAKA,EAAYI,MAAM,SAAU,CAChCvI,EAAIuE,MAAM,uEAAyE4D,EAAc,MACjG,OAAO,CACR,CAEA,OAAOK,SAASL,EACjB,EAQAtG,EAAoBW,UAAUwE,gBAAkB,SAAUyB,GACzD,IAAIC,EAAQxI,EAAKyI,KAAKjG,KAAKkG,WAC1BC,EAAaH,GAASA,EAAMI,eAAe,cAC3CC,EAAQ7I,EAAKyI,KAAKjG,KAAKsG,WAExB,GAAIH,EAAY,CACf,OAAO,SAAUI,EAAWC,GAC3B,OAAOL,EAAWzI,MAAM6I,EAAWC,EAAU7I,EAAUoI,EAAkB,KAC1E,CACD,CAEA,GAAIM,EAAO,CACV,OAAO,SAAUE,EAAWC,GAC3B,OAAOH,EAAM3I,MAAM6I,EAAWC,EAAU7I,EAAUoI,EAAkB,KAAOC,EAC5E,CACD,CAEA,OAAOtI,CACR,EAEAyB,EAAoBW,UAAUyE,oBAAsB,WACnD,OAAOvE,KAAKS,cAAcC,OAC3B,EAYAvB,EAAoBW,UAAU8C,WAAa,SAAUpC,EAAgBiG,EAASC,GAC7E,IAAKlG,EAAexB,QAAS,CAC5B,OAAO,KACR,CAEA,IAAK,IAAI2H,KAAQnG,EAAexB,QAAS,CACxC,GAAI2H,EAAKC,gBAAkBH,EAAQG,eAAiBpG,EAAexB,QAAQ2H,KAAUD,EAAQ,CAC5F,OAAO,IACR,CACD,CAEA,OAAO,KACR,EAEAvH,EAAoBW,UAAUiE,gBAAkB,SAAU7C,GAEzD,IAAKA,EAAU,CACd5D,EAAIuE,MAAM,oDACV,OAAO,KACR,CAEA,IAAKX,EAASU,IAAK,CAClBtE,EAAIuE,MAAM,yCACV,OAAO,KACR,CAEA,IAAKX,EAASsC,QAAS,CACtBlG,EAAIuE,MAAM,8CACV,OAAO,KACR,CAEA,GAAIhE,EAAOc,QAAQuC,EAASsC,QAAQC,SAAW,EAAG,CACjDnG,EAAIuE,MAAM,2CAA6ChE,EAAOoH,YAC9D,OAAO,KACR,CAEA,GAAInH,EAASa,QAAQuC,EAASsC,QAAQf,WAAa,EAAG,CACrDnF,EAAIuE,MAAM,6CAA+ChE,EAAOoH,YAChE,OAAO,KACR,CAEA,GAAI/D,EAASsC,QAAQxE,WAAakC,EAASsC,QAAQxE,mBAAmB0E,SAAU,CAC/EpG,EAAIuE,MAAM,kFACV,OAAO,KACR,CAEA,UAAWX,EAASU,MAAQ,SAAU,CACrC,OAAO,KACR,CAEA,OAAO,IACR,EASAzC,EAAoBW,UAAUqE,0BAA4B,SAAU/B,EAAgByE,GACnF,OAAO,IAAIjG,QAAQ,SAASC,EAASiB,GACpC,IAAI/C,EAAeiB,KAAKK,kBAAkBrB,QAAQC,IAAI,gBACrD6H,EAAkBvJ,EAAWwJ,yBAAyBhI,EAAc8H,EAAe,OACnFG,EAAQ1I,OAAO2I,KAAK7E,GACpB8E,EAAU,CAAC,EAEZF,EAAMG,QAAQ,SAASR,EAAMS,GAC5B,IAAIC,EAAYP,EAAgBM,GAC/BtI,EAED,IAAKuI,EAAW,CACfvF,EAAO,oDACP,MACD,CAEAhD,EAAY,IAAIwI,SAASD,EAAUE,aAAcF,GAEjD,IAAKvI,EAAU2F,GAAI,CAClB3C,EAAO,qCAAuChD,EAAU+F,OAAS,IAAM/F,EAAUgG,WAAa,KAC9F,MACD,CAEAoC,EAAQP,GAAQU,EAAUE,aAAetE,KAAK+B,MAAMqC,EAAUE,cAAgB,CAAC,CAChF,GAEA1G,EAAQqG,EACT,EAAE9F,KAAKpB,MACR,EASAb,EAAoBW,UAAUgE,yBAA2B,SAAU5C,EAAUsG,GAC5E,IAAIxB,EAAQxI,EAAKyI,KAAKjG,KAAKkG,WAC1BG,EAAQ7I,EAAKyI,KAAKjG,KAAKsG,WAExB,IAAKD,EAAO,CACX,OAAOnF,CACR,CAKA,GAAImF,EAAMoB,qBAAsB,CAC/BvG,EAASsC,QAAQxE,QAAU,IAAI0E,QAAQ2C,EAAMoB,qBAAqBnJ,OAAOoJ,YAAYxG,EAASsC,QAAQxE,SAAUwI,EAAWxB,GAC5H,CAKA,GAAIK,EAAMsB,cAAe,CACxBzG,EAAWmF,EAAMsB,cAAczG,EAAUsG,EAAWxB,EACrD,CAEA,OAAO9E,CACR,EAKA/B,EAAoBW,UAAU8H,WAAa,WAC1C,MAAO,6CAA+C5H,KAAKS,cAAcC,QAAQkB,GAClF,EAEA,OAAOzC,CACR"}
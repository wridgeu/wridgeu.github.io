{"version":3,"file":"RequestDataProvider.js","names":["sap","ui","define","DataProvider","jQuery","Log","ODataUtils","Core","deepClone","RETRY_STATUS_CODES","aModes","aMethods","RequestDataProvider","extend","metadata","library","properties","allowCustomDataType","type","defaultValue","associations","host","multiple","prototype","destroy","this","_iRetryAfterTimeout","clearTimeout","apply","arguments","getLastJQXHR","_lastJQXHR","getData","oRequestConfig","getSettings","request","pRequestChain","Promise","resolve","_oDestinations","process","_oCsrfTokenHandler","then","oRequest","resolveToken","bind","_fetch","catch","_handleExpiredToken","oError","isExpiredToken","resetTokenByRequest","sMessage","url","error","reject","getAllowCustomDataType","dataType","vData","parameters","sUrl","sDataType","mHeaders","headers","mBatchRequests","batch","oBatchSerialized","startsWith","_getRuntimeUrl","_hasHeader","JSON","stringify","serializeBatchRequest","Object","values","body","assign","mode","method","toUpperCase","data","timeout","undefined","xhrFields","withCredentials","_modifyRequestBeforeSent","_isValidRequest","_request","vResult","_deserializeBatchResponse","bNoRetry","ajax","done","sTextStatus","jqXHR","bIsDestroyed","fail","sError","aError","_retryRequest","iRetryAfter","_getRetryAfter","includes","status","warning","setTimeout","vRetryAfter","getResponseHeader","retryAfter","Number","isInteger","match","parseInt","sHeader","sValue","sKey","toLowerCase","indexOf","sResponseBody","sContentType","aBatchResponses","deserializeBatchResponse","aKeys","keys","mResult","forEach","iInd","mResponse","oResponse","Response","responseText","ok","statusText","parse","oSettings","oCard","byId","getCard","oHost","getHost","oClonedRequest","modifyRequestHeaders","modifyRequest","getDetails"],"sources":["RequestDataProvider-dbg.js"],"mappings":"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"}
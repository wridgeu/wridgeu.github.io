/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./Utils","../library","sap/m/IllustratedMessageType","sap/ui/base/BindingParser"],function(e,t,r,s){"use strict";var a=t.CardBlockingMessageType;function n(e){return s.complexParser.escape(JSON.stringify(e,null,4))}function T(e){if(e.options){e.options.body=e.body&&e.body.toString();e.options.headers=Object.fromEntries(e.options.headers)}return n(e)}var E={};E.configureDataRequestErrorInfo=function(t,E){var R=t.requestErrorParams.response,o=t.requestErrorParams.responseText,i=r.ErrorScreen,_=R?R.status+" "+R.statusText:E.getTranslatedText("CARD_ERROR_OCCURED"),l=R?E.getTranslatedText("CARD_ERROR_REQUEST_DESCRIPTION"):t.requestErrorParams.message.toString(),d=t.requestSettings,u=d.request?d.request.url:"",S=E.getTranslatedText("CARD_ERROR_REQUEST_DETAILS",[u]);if(R){switch(R.status){case 0:switch(R.statusText){case"timeout":i=r.ReloadScreen;_="408 "+E.getTranslatedText("CARD_ERROR_REQUEST_TIMEOUT_TITLE");S=E.getTranslatedText("CARD_ERROR_REQUEST_TIMEOUT_DETAILS",[u]);break;default:i=r.PageNotFound;_="404 "+E.getTranslatedText("CARD_ERROR_REQUEST_NOTFOUND_TITLE");break}break;case 404:i=r.PageNotFound;if(!R.statusText){_="404 "+E.getTranslatedText("CARD_ERROR_REQUEST_NOTFOUND_TITLE")}break;case 408:i=r.ReloadScreen;S=E.getTranslatedText("CARD_ERROR_REQUEST_TIMEOUT_DETAILS",[u]);break;case 401:case 403:case 511:l=E.getTranslatedText("CARD_ERROR_REQUEST_ACCESS_DENIED_DESCRIPTION");break}}S=_+"\n"+l+"\n\n";if(R){S+=E.getTranslatedText("CARD_LOG_MSG")+"\n"+R.statusText+"\n\n"}S+=E.getTranslatedText("CARD_REQUEST_SETTINGS")+"\n"+n(d)+"\n\n";if(R){S+=E.getTranslatedText("CARD_REQUEST")+"\n"+T(t.requestErrorParams.settings)+"\n\n"+E.getTranslatedText("CARD_RESPONSE_HEADERS")+"\n"+n(Object.fromEntries(R.headers))+"\n\n"}if(R&&o){S+=E.getTranslatedText("CARD_RESPONSE")+"\n";if(e.isJson(o)){S+=n(JSON.parse(o))}else{S+=s.complexParser.escape(o)}S+="\n\n"}S+=E.getTranslatedText("CARD_MANIFEST")+"\n"+n(E._oCardManifest.getJson())+"\n\n";S+=E.getTranslatedText("CARD_STACK_TRACE")+"\n"+(new Error).stack;return{type:a.Error,illustrationType:i,title:_,description:l,details:S,httpResponse:R}};E.configureErrorInfo=function(e,t){var r=t.getTranslatedText("CARD_MANIFEST")+"\n"+n(t._oCardManifest.getJson())+"\n\n"+t.getTranslatedText("CARD_STACK_TRACE")+"\n"+(new Error).stack;return{type:a.Error,illustrationType:e.illustrationType,title:e.title,description:e.description,details:r}};return E});
//# sourceMappingURL=ErrorHandler.js.map
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/base/BindingParser","sap/base/util/extend","sap/base/util/isPlainObject","sap/ui/integration/formatters/DateTimeFormatter","sap/ui/integration/formatters/NumberFormatter","sap/ui/integration/formatters/TextFormatter","sap/ui/integration/bindingFeatures/DateRange","sap/ui/integration/formatters/InitialsFormatter"],function(e,r,t,n,a,i,o,s){"use strict";var f=/\{\{([^}]+)\}\}/g,u=/\{\{(parameters\.[^}]+)\}\}/g,p=/\{\{(dataSources\.[^}]+)\}\}/g;var c={};var d={date:n.date,dateTime:n.dateTime,currency:a.currency,float:a.float,integer:a.integer,percent:a.percent,text:i.text,unit:a.unit,initials:s.initials};c.mLocals={format:d,dateRange:o};c.extractBindingInfo=function(t,n){t=c.escapeCardPlaceholders(t);return e.complexParser(t,undefined,true,undefined,undefined,undefined,r({},c.mLocals,n))};c.createBindingInfos=function(e,r){if(!e){return e}if(Array.isArray(e)){return e.map(function(e){return c.createBindingInfos(e,r)})}if(t(e)){var n={};for(var a in e){n[a]=c.createBindingInfos(e[a],r)}return n}if(typeof e==="string"){var i=c.extractBindingInfo(e,r);return c.escapeParametersAndDataSources(i||e)}return e};c.formattedProperty=function(e,t){if(e===undefined){return e}var n={};if(Array.isArray(e)){n.parts=e.map(function(e){return typeof e==="object"?r({},e):{value:e}});n.formatter=t}else if(typeof e==="object"){n=r({},e);if(e.formatter){var a=n.formatter;n.formatter=function(){var e=a.apply(this,arguments);return t(e)}}else{n.formatter=t}}else{n={value:e,formatter:t}}return n};c.escapeCardPlaceholders=function(e){if(typeof e!=="string"){return e}return e.replace(f,"\\{\\{$1\\}\\}")};c.escapeParametersAndDataSources=function(e){if(typeof e!=="string"){return e}return e.replace(u,"\\{\\{$1\\}\\}").replace(p,"\\{\\{$1\\}\\}")};c.isAbsolutePath=function(e){return e.startsWith("/")};c.prependRelativePaths=function(e,t){if(!e){return e}if(c.isBindingInfo(e)){var n=r({},e);if(n.path&&!this.isAbsolutePath(n.path)){n.path=t+"/"+n.path}if(n.parts){n.parts=n.parts.map(function(e){return c.prependRelativePaths(e,t)})}return n}if(Array.isArray(e)){return e.map(function(e){return c.prependRelativePaths(e,t)})}if(typeof e==="object"){var a={};for(var i in e){a[i]=c.prependRelativePaths(e[i],t)}return a}return e};c.propagateModels=function(e,t){var n=r({},e.oPropagatedProperties.oModels,e.oModels),a=Object.keys(n),i=e.getModel();if(i){t.setModel(i)}a.forEach(function(r){if(r==="undefined"){return}var n=e.getModel(r);if(n){t.setModel(n,r)}})};c.reuse=function(e){if(typeof e==="object"){return r({},e)}return e};c.isBindingInfo=function(e){if(!e){return false}return e.hasOwnProperty("path")||e.hasOwnProperty("parts")&&(e.hasOwnProperty("formatter")||e.hasOwnProperty("binding"))};return c});
//# sourceMappingURL=BindingHelper.js.map
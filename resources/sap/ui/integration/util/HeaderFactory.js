/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Core","./BaseFactory","sap/ui/integration/cards/actions/CardActions","sap/ui/integration/library","sap/m/library","sap/ui/integration/cards/NumericHeader","sap/ui/integration/cards/Header","sap/ui/integration/util/Utils","sap/m/Button"],function(t,e,a,r,i,n,s,o,c){"use strict";var u=r.CardActionArea;var d=i.ButtonType;var p=t.getLibraryResourceBundle("sap.ui.integration");var l=e.extend("sap.ui.integration.util.HeaderFactory");l.prototype.create=function(t,e){var r=this._oCard,i=r.getOpener(),c,d;t=this.createBindingInfos(t,r.getBindingNamespaces());if(i){e=this._createCloseButton()}switch(t.type){case"Numeric":d=new n(t,e);break;default:d=new s(t,e,r._oIconFormatter);break}d.setCard(r);if(t.status&&t.status.text&&t.status.text.format){c=o.getStatusTextBindingInfo(t.status.text.format,d);if(c){d.bindProperty("statusText",c)}}d.setServiceManager(r._oServiceManager);d.setDataProviderFactory(r._oDataProviderFactory);d._setDataConfiguration(t.data);var p=new a({card:r});p.attach({area:u.Header,enabledPropertyName:"interactive",actions:t.actions,control:d});d._oActions=p;if(d._bIsEmpty){d.setVisible(e.getVisible())}if(i){d.setProperty("focusable",false)}return d};l.prototype._createCloseButton=function(){var t=new c({type:d.Transparent,tooltip:p.getText("CARD_DIALOG_CLOSE_BUTTON"),icon:"sap-icon://decline",press:function(){this._oCard.hide()}.bind(this)});t.addStyleClass("sapUiIntCardCloseButton");return t};return l});
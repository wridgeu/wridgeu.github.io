/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Core","./BaseFactory","sap/base/Log","sap/base/util/isEmptyObject","sap/ui/integration/cards/actions/CardActions","sap/ui/integration/library","sap/m/library","sap/ui/integration/cards/NumericHeader","sap/ui/integration/cards/Header","sap/ui/integration/util/Utils","sap/m/Button"],function(t,e,a,i,r,s,n,o,u,c,d){"use strict";var l=s.CardActionArea;var p=n.ButtonType;var f=s.CardDisplayVariant;var g=t.getLibraryResourceBundle("sap.ui.integration");var y=e.extend("sap.ui.integration.util.HeaderFactory");y.prototype.create=function(t,e){if(i(t)){a.warning("Card sap.card/header entry in the manifest is mandatory","sap.ui.integration.widgets.Card");return null}var s=this._oCard,n=s.getId()+"-header",d=s.getOpener(),p,f;t=this.createBindingInfos(t,s.getBindingNamespaces());if(d){e=this._createCloseButton(t)}switch(t.type){case"Numeric":f=new o(n,t,e,s._oIconFormatter);break;default:f=new u(n,t,e,s._oIconFormatter);break}f.setCard(s);if(t.status&&t.status.text&&t.status.text.format){p=c.getStatusTextBindingInfo(t.status.text.format,f);if(p){f.bindProperty("statusText",p)}}f.setServiceManager(s._oServiceManager);f.setDataProviderFactory(s._oDataProviderFactory);f._setDataConfiguration(t.data);if(s.isTileDisplayVariant()){this._setTileDefaults(f,t)}var g=new r({card:s});g.attach({area:l.Header,enabledPropertyName:"interactive",actions:t.actions,control:f});f._oActions=g;if(d){f.setProperty("focusable",false)}return f};y.prototype._createCloseButton=function(t){var e=true;if(t.closeButton&&"visible"in t.closeButton){e=t.closeButton.visible}var a=new d({type:p.Transparent,tooltip:g.getText("CARD_DIALOG_CLOSE_BUTTON"),visible:e,icon:"sap-icon://decline",press:function(){this._oCard.hide()}.bind(this)});return a};y.prototype._setTileDefaults=function(t,e){t.setProperty("useTileLayout",true);const a=this._oCard;const i=[f.TileFlat,f.TileFlatWide].indexOf(a.getDisplayVariant())>-1;if(!e.titleMaxLines){t.setTitleMaxLines(i?1:2)}if(i){t.setIconSize("XS");if(t.isA("sap.f.cards.NumericHeader")){t.setNumberSize("S")}if(!e.subtitleMaxLines){t.setSubtitleMaxLines(1)}}};return y});
//# sourceMappingURL=HeaderFactory.js.map
/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./BaseFactory","./CardActions","sap/ui/integration/library","sap/ui/integration/cards/NumericHeader","sap/ui/integration/cards/Header","sap/base/strings/formatMessage"],function(t,a,r,e,s,i){"use strict";var n=r.CardActionArea;function o(t,a){if(t.parts&&t.translationKey&&t.parts.length===2){var r={parts:[t.translationKey,t.parts[0].toString(),t.parts[1].toString()],formatter:function(a,r,e){var s=r||t.parts[0];var n=e||t.parts[1];if(Array.isArray(r)){s=r.length}if(Array.isArray(e)){n=e.length}var o=parseFloat(s)||0;var c=parseFloat(n)||0;return i(a,[o,c])}};a.bindProperty("statusText",r)}}var c=t.extend("sap.ui.integration.util.HeaderFactory");c.prototype.create=function(t,r){var i,c=this._oCard,u=new a({card:c});t=this.createBindingInfos(t,c.getBindingNamespaces());switch(t.type){case"Numeric":i=new e(t,r);break;default:i=new s(t,r,c._oIconFormatter);break}i.setCard(c);if(t.status&&t.status.text&&t.status.text.format){if(t.status.text.format.translationKey){c._loadDefaultTranslations()}o(t.status.text.format,i)}i.setServiceManager(c._oServiceManager);i.setDataProviderFactory(c._oDataProviderFactory);i._setDataConfiguration(t.data);u.attach({area:n.Header,actions:t.actions,control:i});i._oActions=u;if(i._bIsEmpty){i.setVisible(r.getVisible())}return i};return c});
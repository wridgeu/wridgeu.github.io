/*!
 * OpenUI5
 * (c) Copyright 2009-2021 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./BaseFactory","./CardActions","sap/ui/integration/library","sap/ui/integration/cards/NumericHeader","sap/ui/integration/cards/Header","sap/base/strings/formatMessage"],function(t,a,r,e,s,i){"use strict";var n=r.CardActionArea;function o(t,a){if(t.parts&&t.translationKey&&t.parts.length===2){var r={parts:[t.translationKey,t.parts[0].toString(),t.parts[1].toString()],formatter:function(a,r,e){var s=r||t.parts[0];var n=e||t.parts[1];if(Array.isArray(r)){s=r.length}if(Array.isArray(e)){n=e.length}var o=parseFloat(s)||0;var c=parseFloat(n)||0;return i(a,[o,c])}};a.bindProperty("statusText",r)}}var c=t.extend("sap.ui.integration.util.HeaderFactory");c.prototype.create=function(t,r){var i=this._oCard,c;t=this.createBindingInfos(t,i.getBindingNamespaces());switch(t.type){case"Numeric":c=new e(t,r);break;default:c=new s(t,r,i._oIconFormatter);break}c.setCard(i);if(t.status&&t.status.text&&t.status.text.format){if(t.status.text.format.translationKey){i._loadDefaultTranslations()}o(t.status.text.format,c)}c.setServiceManager(i._oServiceManager);c.setDataProviderFactory(i._oDataProviderFactory);c._setDataConfiguration(t.data);var u=new a({card:i});u.attach({area:n.Header,actions:t.actions,control:c});c._oActions=u;if(c._bIsEmpty){c.setVisible(r.getVisible())}return c};return c});
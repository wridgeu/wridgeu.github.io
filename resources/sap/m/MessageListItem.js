/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/library","sap/ui/core/InvisibleText","./library","./StandardListItem","./Link","./MessageListItemRenderer"],function(e,t,i,s,r,a){"use strict";var n=e.MessageType;var o=i.ListType;var p=s.extend("sap.m.MessageListItem",{metadata:{library:"sap.m",properties:{activeTitle:{type:"boolean",group:"Misc",defaultValue:false},messageType:{type:"sap.ui.core.MessageType",group:"Appearance",defaultValue:n.Error}},aggregations:{link:{type:"sap.m.Link",group:"Misc",multiple:false},linkAriaDescribedBy:{type:"sap.ui.core.Control",group:"Misc",multiple:false}},events:{activeTitlePress:{}}}});p.prototype.onBeforeRendering=function(){s.prototype.onBeforeRendering.apply(this,arguments);var e=this.getLink(),t;if(!e&&this.getActiveTitle()){e=new r({press:[this.fireActiveTitlePress,this]});this.setLink(e)}if(e&&!e.getAriaDescribedBy().length){t=this._getLinkAriaDescribedBy();e.setProperty("text",this.getTitle(),true);e.addAssociation("ariaDescribedBy",t.getId(),true);this.setAggregation("linkAriaDescribedBy",t,true)}};p.prototype._getLinkAriaDescribedBy=function(){var e=sap.ui.getCore().getLibraryResourceBundle("sap.m").getText("MESSAGE_VIEW_LINK_FOCUS_TEXT",[this.getMessageType()]);return new t(this.getId()+"-link",{text:e})};p.prototype.onkeydown=function(e){if(this.getActiveTitle()&&e.altKey&&e.key==="Enter"){this.fireActiveTitlePress(this)}};p.prototype.getContentAnnouncement=function(e){var t=s.prototype.getContentAnnouncement.apply(this,arguments),i,r,a;if(this.getActiveTitle()){a=e.getText("MESSAGEVIEW_BUTTON_TOOLTIP_"+this.getMessageType().toUpperCase());i=e.getText("MESSAGE_LIST_ITEM_FOCUS_TEXT_LOCATION",[a]);r=this.getType()===o.Navigation?e.getText("MESSAGE_LIST_ITEM_FOCUS_TEXT_DESCRIPTION"):"";t+=". ".concat(i,". ",r)}return t};return p});
/*!
 * OpenUI5
 * (c) Copyright 2009-2023 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Renderer","sap/ui/core/Core","sap/ui/core/InvisibleText","./library","./ListBaseRenderer","./ColumnListItemRenderer"],function(e,t,a,s,r,l){"use strict";var o=s.ListKeyboardMode;var i=s.MultiSelectMode;var n=e.extend(r);n.apiVersion=2;var d=t.getConfiguration().getRTL();n.columnAlign={left:d?"flex-end":"flex-start",center:"center",right:d?"flex-start":"flex-end"};n.renderColumns=function(e,t,s){var l=0,o=false,d=false,c=false,u,p=t.getMode(),g=r.ModeOrder[p],f="sapMListTbl",C=t.getId("tbl"),b=s=="Head"?"th":"td",m="t"+s.toLowerCase(),h=t.getColumns(),H=t.getFixedLayout(),L=function(t,a,s){e.openStart(b,a&&C+a);if(b==="th"){e.class("sapMTableTH");e.attr("role",s?"presentation":"columnheader");e.attr("scope","col")}else if(s){e.attr("role","presentation")}s&&e.attr("aria-hidden","true");e.class(f+t);e.openEnd();e.close(b);l++};if(s=="Head"){var M=h.find(function(e){return e.getVisible()});var T=h.reduce(function(e,t,a){t.setIndex(-1);t.setInitialOrder(a);t.setForcedColumn(false);return t.getVisible()&&t.getCalculatedMinScreenWidth()<e.getCalculatedMinScreenWidth()?t:e},M);var y=h.filter(function(e){return e.getVisible()&&!e.isHidden()}).length;if(!y&&T){T.setForcedColumn(true);y=1}if(y==1&&H=="Strict"){t._bCheckLastColumnWidth=true}c=!y||h.every(function(e){return!e.getHeader()||!e.getHeader().getVisible()||!e.getVisible()||e.isHidden()})}e.openStart(m);if(t._hasFooter&&s==="Foot"){e.class("sapMTableTFoot");if(t.hasPopin()){e.class("sapMListTblHasPopin")}}e.openEnd();e.openStart("tr",t.addNavSection(C+s+"er"));if(c){e.class("sapMListTblHeaderNone");e.attr("aria-hidden",true)}else{e.attr("tabindex",-1);e.class("sapMListTblRow").class("sapMListTbl"+s+"er");e.class("sapMLIBFocusable").class("sapMTableRowCustomFocus")}e.openEnd();L("HighlightCol",s+"Highlight",true);if(g==-1){if(p=="MultiSelect"&&s=="Head"&&!c){e.openStart("th");e.class("sapMTableTH");e.attr("scope","col");e.attr("aria-hidden","true");e.class(f+"SelCol");e.attr("role","presentation");e.openEnd();e.renderControl(t.getMultiSelectMode()==i.ClearAll?t._getClearAllButton():t._getSelectAllCheckbox());e.close("th");l++}else{L("SelCol","",true)}}t.getColumns(true).forEach(function(r){if(!r.getVisible()){return}if(r.isPopin()){o=true;return}if(r.isHidden()){return}var i=r["get"+s+"er"](),c=y==1&&H!="Strict"?"":r.getWidth(),p=r.getStyleClass().split(" ").filter(Boolean),g=r.getCssAlign();if(s=="Head"){e.openStart(b,r);e.class("sapMTableTH");e.attr("role","columnheader");e.attr("scope","col");var C=r.getSortIndicator().toLowerCase();C!=="none"&&e.attr("aria-sort",C);if(!u){u=!c||c=="auto"}}else{e.openStart(b)}p.forEach(function(t){e.class(t)});e.class(f+"Cell");e.class(f+s+"erCell");e.attr("data-sap-ui-column",r.getId());e.style("width",c);if(g&&s!=="Head"){e.style("text-align",g)}e.openEnd();if(i){if(s==="Head"){e.openStart("div",r.getId()+"-ah");e.class("sapMColumnHeader");var m=r._getHeaderMenuInstance();if((t.bActiveHeaders||m)&&!i.isA("sap.ui.core.InvisibleText")){e.attr("tabindex",0);e.attr("role","button");e.class("sapMColumnHeaderActive");e.attr("aria-haspopup",m?m.getAriaHasPopupType().toLowerCase():"dialog");if(i.isA("sap.m.Label")&&i.getRequired()){e.attr("aria-describedby",a.getStaticId("sap.m","CONTROL_IN_COLUMN_REQUIRED"))}}else if(t.bFocusableHeaders){e.attr("tabindex",0);e.class("sapMColumnHeaderFocusable")}if(g){e.style("justify-content",n.columnAlign[g]);e.style("text-align",g)}e.openEnd();e.renderControl(i.addStyleClass("sapMColumnHeaderContent"));e.close("div")}else{e.renderControl(i)}}if(s=="Head"&&!d){d=!!r.getFooter()}e.close(b);r.setIndex(l++)});if(s=="Head"){t._dummyColumn=u!=undefined&&!u&&H=="Strict"}if(o&&t._dummyColumn){L("DummyCell",s+"DummyCell",true)}L("NavCol",s+"Nav",true);if(g==1){L("SelCol","",true)}L("NavigatedCol",s+"Navigated",true);if(!o&&t._dummyColumn){L("DummyCell",s+"DummyCell",true)}e.close("tr");e.close(m);if(s==="Head"){t._colCount=l;t._hasPopin=o;t._hasFooter=d;t._headerHidden=c}};n.renderContainerAttributes=function(e,a){e.attr("role","application").attr("data-sap-ui-pasteregion","true");e.attr("aria-roledescription",t.getLibraryResourceBundle("sap.m").getText("TABLE_CONTAINER_ROLE_DESCRIPTION"));e.class("sapMListTblCnt");e.accessibilityState(a,this.getAccessibilityState(a))};n.renderListStartAttributes=function(e,t){e.openStart("table",t.getId("listUl"));e.class("sapMListTbl");var s=t.getAriaLabelledBy().concat(this.getAriaLabelledBy(t),a.getStaticId("sap.m","TABLE_ARIA_LABEL"));e.attr("aria-labelledby",s.filter(Boolean).join(" "));if(t.getFixedLayout()===false){e.style("table-layout","auto")}if(t._iItemNeedsColumn){e.class("sapMListTblHasNav")}};n.renderListHeadAttributes=function(e,t){t._aPopinHeaders=[];this.renderColumns(e,t,"Head");e.openStart("tbody",t.addNavSection(t.getId("tblBody")));e.class("sapMListItems");e.class("sapMTableTBody");if(t.getAlternateRowColors()){e.class(t._getAlternateRowColorsClass())}if(t.hasPopin()){e.class("sapMListTblHasPopin")}e.openEnd()};n.renderListEndAttributes=function(e,t){e.close("tbody");t._hasFooter&&this.renderColumns(e,t,"Foot");e.close("table");this.renderPopinColumnHeaders(e,t)};n.renderPopinColumnHeaders=function(e,t){if(!t._aPopinHeaders||!t._aPopinHeaders.length){return}e.openStart("div",t.getId("popin-headers"));e.class("sapMTablePopinHeaders");e.attr("aria-hidden","true");e.openEnd();t._aPopinHeaders.forEach(function(t){e.renderControl(t)});e.close("div")};n.renderNoData=function(e,a){e.openStart("tr",a.getId("nodata"));e.attr("tabindex",a.getKeyboardMode()==o.Navigation?-1:0);e.class("sapMLIB").class("sapMListTblRow").class("sapMLIBTypeInactive");l.addFocusableClasses(e,a);if(!a._headerHidden||!a.getHeaderText()&&!a.getHeaderToolbar()){e.class("sapMLIBShowSeparator")}e.openEnd();var s=a.shouldRenderDummyColumn();e.openStart("td",a.getId("nodata-text"));e.attr("colspan",a.getColCount()-s);e.class("sapMListTblCell").class("sapMListTblCellNoData");e.openEnd();if(!a.shouldRenderItems()){if(a.getAggregation("_noColumnsMessage")){e.renderControl(a.getAggregation("_noColumnsMessage"))}else{e.text(t.getLibraryResourceBundle("sap.m").getText("TABLE_NO_COLUMNS"))}}else{this.renderNoDataArea(e,a)}e.close("td");if(s){l.renderDummyCell(e,a)}e.close("tr")};return n},true);
//# sourceMappingURL=TableRenderer.js.map
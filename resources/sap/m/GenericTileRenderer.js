/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library","sap/base/security/encodeCSS","sap/ui/core/Configuration"],function(e,o,t){"use strict";var a=e.GenericTileMode;var n=e.LoadState;var r=e.FrameType;var s=e.ValueColor;var i=sap.ui.getCore().getLibraryResourceBundle("sap.m");var l={apiVersion:2};l.render=function(e,t){var l=t._getTooltipText();var d=t._getAriaText();var c=t.getHeaderImage();var p=t.hasListeners("press");var f=t.getState();var g=o("sapMGTState"+f);var v;var T=t.getFrameType();var h=t.getAriaRoleDescription();var S=t.getAriaRole();var u=T===r.OneByHalf||T===r.TwoByHalf;var m=t._sBGColor;var I=t.getUrl()&&(!t._isInActionScope()||t.getMode()===a.IconMode)&&f!==n.Disabled&&!t._isNavigateActionEnabled()&&!t._isActionMode();if(t._isInActionScope()){v=o("sapMGTScopeActions")}else{v=o("sapMGTScopeDisplay")}if(I){e.openStart("a",t);e.attr("href",t.getUrl());e.attr("rel","noopener noreferrer");if(!this._isDragabble(t)){e.attr("draggable","false")}}else{e.openStart("div",t)}if(l&&f!==n.Loading){e.attr("title",l)}e.class("sapMGT");e.class(g);e.class(v);if(!t._isInActionScope()&&t._bShowActionsView){e.class("sapMGTScopeActions")}if(t._isIconMode()){if(T===r.OneByOne){var M="sapMGTOneByOne"}else if(T===r.TwoByHalf){var M="TwoByHalf"}}e.class(t._isIconMode()?M:T);var y=t.getMode()===a.ArticleMode,C=t.getMode()===a.ActionMode;if(C){e.class("sapMGTActionMode")}if(y){e.class("sapMGTArticleMode")}if(t._isIconMode()){e.class("sapMGTIconMode");if(this._isThemeHighContrast()){e.class("HighContrastTile")}}if(!y&&!C&&T!==r.OneByHalf&&(t.getSystemInfo()||t.getAppShortcut())){e.class("tileWithAppInfo")}if(t._isIconMode()){if(T===r.TwoByHalf){e.class("sapMGTTwoByHalf")}else if(T===r.OneByOne){if(!this._isThemeHighContrast()){e.style("background-color",m)}else{e.style("border-color",m);e.style("box-shadow","0 0 0 1px"+m)}}}if(S){e.attr("role",S)}else if(!I){e.attr("role",p?"button":"presentation")}else{e.attr("role","link")}if(f===n.Loaded){e.attr("aria-label",d)}if(h){e.attr("aria-roledescription",h)}else{e.attr("aria-roledescription",i.getText("GENERIC_TILE_ROLE_DESCRIPTION"))}if(f!==n.Disabled){if(!t.isInActionRemoveScope()&&t.getPressEnabled()){e.class("sapMPointer")}if(!t.getPressEnabled()){e.class("sapMAutoPointer")}e.attr("tabindex","0")}if(t.getWidth()){e.style("width",t.getWidth())}if(t.getBackgroundImage()){e.style("background-image","url('"+o(t.getBackgroundImage())+"')");e.class("sapMGTBackgroundImage")}if(t.getMode()===a.HeaderMode){e.class("sapMGTHeaderMode")}var _=t.getTileContent();var G=_.length;if(this._isNewsContentPresent(_,G)){e.class("sapMGTNewsContent")}e.openEnd();var B=false;var O=false;function H(e,o){if(T===r.OneByOne){e.openStart("div").class("sapMGTContentShimmerPlaceholderItemOneByOne");e.class("sapMGTContentShimmerPlaceholderWithDescriptionOneByOne");e.openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderRowsOneByOne").openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderIconOneByOne").class("sapMGTLoadingShimmer").openEnd().close("div");if(o){e.openStart("div").class("sapMGTContentShimmerPlaceholderItemTextOneByOne").class("sapMGTLoadingShimmer").openEnd().close("div")}}else{e.openStart("div").class("sapMGTContentShimmerPlaceholderItemTwoByHalf");e.class("sapMGTContentShimmerPlaceholderWithDescriptionTwoByHalf");if(!t.getIconLoaded()&&!o){e.class("sapMGTContentShimmerPlaceholderWithDescriptionTwoByHalfIconLoaded")}e.openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderRowsTwoByHalf").openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderIconTwoByHalf").class("sapMGTLoadingShimmer").openEnd().close("div");if(o){e.openStart("div").class("sapMGTContentShimmerPlaceholderItemTextTwoByHalf").class("sapMGTLoadingShimmer").openEnd().close("div")}}e.close("div");e.close("div")}if(f===n.Loading){if(t._isIconMode()){H(e,true)}else{e.openStart("div").class("sapMGTContentShimmerPlaceholderItem");e.class("sapMGTContentShimmerPlaceholderWithDescription");e.openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderRows").openEnd();e.openStart("div").class("sapMGTContentShimmerPlaceholderItemHeader").class("sapMGTLoadingShimmer").openEnd().close("div");e.openStart("div").class("sapMGTContentShimmerPlaceholderItemText").class("sapMGTLoadingShimmer").openEnd().close("div");if(!u){for(var b=0;b<G;b++){e.renderControl(_[b])}}e.close("div");e.close("div")}}else{if(!C&&this._isValueColorValid(t.getValueColor())){e.openStart("div");e.class("sapMGTCriticalBorder");e.class(t.getValueColor());e.openEnd();e.close("div")}if(t._isIconMode()){if(!t.getIconLoaded()){H(e,false)}else{e.openStart("div");if(T===r.OneByOne){e.class("sapMGTOneByOneIcon")}else{e.class("sapMGTTwoByHalfIcon");if(!this._isThemeHighContrast()){e.style("background-color",m)}else{e.class("HighContrastTile");e.style("border-color",m);e.style("box-shadow","0 0 0 1px"+m)}}e.openEnd();if(t.getTileIcon()){var E=t._generateIconAggregation(t.getTileIcon());if(E){e.renderControl(t.getAggregation(E))}}e.close("div")}}if(this._shouldRenderInfoContainer(t)&&T===r.TwoByHalf){e.openStart("div",t.getId()+"-wrapper").class("sapMGTWrapper").openEnd();e.openStart("div",t.getId()+"-wrapper-content").class("sapMGTWrapperCnt").openEnd()}e.openStart("div");e.class("sapMGTHdrContent");if(t._isIconMode()){if(T===r.OneByOne){var M="sapMGTOneByOne";if(!t.getIconLoaded()){M=M.concat(" sapMGTOneByOneIconLoaded")}}else if(T===r.TwoByHalf){var M="TwoByHalf"}}e.class(t._isIconMode()?M:T);if(l){e.attr("title",l)}if(C&&t.getFrameType()===r.TwoByOne&&c){e.class("sapMGTHdrImage")}e.openEnd();if(c){t._oImage.removeStyleClass(s.None);if(this._sPreviousStyleClass){t._oImage.removeStyleClass(this._sPreviousStyleClass)}this._sPreviousStyleClass=this._isValueColorValid(t.getValueColor())?t.getValueColor():s.None;t._oImage.addStyleClass(this._sPreviousStyleClass);e.renderControl(t._oImage)}this._renderHeader(e,t);for(var b=0;b<G;b++){B=t._checkFooter(_[b],t)&&(_[b].getFooter()||_[b].getUnit());var w=_[b].getContent();if(w){if(T===r.OneByHalf&&w.getMetadata().getElementName()==="sap.m.ImageContent"){O=false}else{O=true;break}}}if(!(u&&O)){if(t.getSubheader()){if(!(t._isIconMode()&&t.getFrameType()==r.OneByOne)){this._renderSubheader(e,t)}}}e.close("div");if(!t._isIconMode()){e.openStart("div",t.getId()+"-content");e.class("sapMGTContent");if(t.getSystemInfo()||t.getAppShortcut()){if(_.length===0){e.class("appInfoWithoutTileCnt")}if(B&&T!==r.OneByHalf){e.class("appInfoWithFooter")}else{e.class("appInfoWithoutFooter")}}e.openEnd();for(var b=0;b<G;b++){e.renderControl(_[b])}if(this._shouldRenderInfoContainer(t)&&T!==r.TwoByHalf){this._renderInfoContainer(e,t)}e.close("div")}if(this._shouldRenderInfoContainer(t)&&T===r.TwoByHalf){e.close("div");this._renderInfoContainer(e,t);e.close("div")}}if(f!==n.Loaded&&f!==n.Loading){this._renderStateOverlay(e,t,l)}if(f!==n.Disabled){this._renderHoverOverlay(e,t);this._renderFocusDiv(e,t)}if(t._isInActionScope()){this._renderActionsScope(e,t)}if(I){e.close("a")}else{e.close("div")}};l._isDragabble=function(e){var o=e.getDragDropConfig().some(function(o){return o.isDraggable(e)});if(!o){var t=e.getParent();if(t&&t.getDragDropConfig){o=t.getDragDropConfig().some(function(o){return o.isDraggable(e)})}}return o};l._shouldRenderInfoContainer=function(e){var o=e.getFrameType(),t=e.getMode()===a.ArticleMode,n=e.getMode()===a.ActionMode,s=e.getMode()===a.IconMode;if(o===r.OneByOne&&s){return true}return!t&&!n&&!s&&o!==r.OneByHalf&&(e.getSystemInfo()||e.getAppShortcut())};l._renderInfoContainer=function(e,o){e.openStart("div",o.getId()+"-tInfo");e.class("sapMGTTInfoContainer");e.openEnd();e.openStart("div",o.getId()+"-tInfo-content");e.class("sapMGTTInfo");e.openEnd();if(o.getAppShortcut()){e.openStart("div",o.getId()+"-appShortcutWrapper");e.class("sapMGTAppShortcutText").openEnd();e.renderControl(o._oAppShortcut);e.close("div")}if(o.getSystemInfo()){e.openStart("div",o.getId()+"-sytemInfoWrapper");e.class("sapMGTSystemInfoText").openEnd();e.renderControl(o._oSystemInfo);e.close("div")}e.close("div");e.close("div")};l._renderFocusDiv=function(e,o){e.openStart("div",o.getId()+"-focus");e.class("sapMGTFocusDiv");e.openEnd();e.close("div")};l._renderStateOverlay=function(e,o,t){var a=o.getState();e.openStart("div",o.getId()+"-overlay");e.class("sapMGTOverlay");if(t){e.attr("title",t)}e.openEnd();switch(a){case n.Loading:o._oBusy.setBusy(a==n.Loading);e.renderControl(o._oBusy);break;case n.Failed:e.openStart("div",o.getId()+"-failed-ftr");e.class("sapMGenericTileFtrFld");e.openEnd();e.openStart("div",o.getId()+"-failed-icon");e.class("sapMGenericTileFtrFldIcn");e.openEnd();e.renderControl(o._oWarningIcon);e.close("div");if(!o._isInActionScope()&&!o._bShowActionsView){e.openStart("div",o.getId()+"-failed-text");e.class("sapMGenericTileFtrFldTxt");e.openEnd();e.renderControl(o.getAggregation("_failedMessageText"));e.close("div")}e.close("div");break;default:}e.close("div")};l._renderActionsScope=function(e,o){if(o.getState()!==n.Disabled){e.renderControl(o._oRemoveButton);e.renderControl(o._oMoreIcon)}};l._renderHoverOverlay=function(e,o){e.openStart("div",o.getId()+"-hover-overlay");if(o.getBackgroundImage()){e.class("sapMGTWithImageHoverOverlay")}else{e.class("sapMGTWithoutImageHoverOverlay");if(o._isIconMode()){if(o.getFrameType()===r.OneByOne){e.style("border-radius","1rem")}else{e.style("border-radius","0.75rem")}}}e.openEnd();e.close("div")};l._renderHeader=function(e,o){e.openStart("div",o.getId()+"-hdr-text");e.class("sapMGTHdrTxt");if(o._isActionMode()&&this._isValueColorValid(o.getValueColor())){e.class("sapMGTCriticalHdrTxt");e.class(o.getValueColor())}e.openEnd();e.renderControl(o._oTitle);e.close("div")};l._renderSubheader=function(e,o){e.openStart("div",o.getId()+"-subHdr-text");e.class("sapMGTSubHdrTxt");e.openEnd();e.renderControl(o._oSubTitle);e.close("div")};l._isValueColorValid=function(e){if(e==s.Good||e==s.Error||e==s.Neutral||e==s.Critical){return true}return false};l._isThemeHighContrast=function(){return/(hcw|hcb)/g.test(t.getTheme())};l._isNewsContentPresent=function(e,o){var t=false;for(var a=0;a<o;a++){var n=e[a].getContent();if(n&&n.isA("sap.m.NewsContent")){t=true;break}}return t};return l},true);
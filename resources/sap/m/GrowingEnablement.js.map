{"version":3,"file":"GrowingEnablement.js","names":["sap","ui","define","BaseObject","NumberFormat","library","ChangeReason","ManagedObjectMetadata","ManagedObjectObserver","HTML","CustomListItem","encodeXML","Core","jQuery","ListType","ListGrowingDirection","GrowingEnablement","extend","constructor","oControl","apply","this","_oControl","bUseExtendedChangeDetection","addDelegate","iRenderedItemsLength","getItems","length","_iRenderedDataItems","_iLimit","_bLoading","_sGroupingPath","_bDataRequested","_bSkippedItemsUpdateUntilDataReceived","_iLastItemsCount","_iTriggerTimer","_aChunk","_oRM","_aItemsPool","destroy","_oTrigger","_oScrollDelegate","setGrowingList","_oObserver","disconnect","clearItemsPool","$","remove","removeDelegate","render","oRm","openStart","getId","class","style","openEnd","renderControl","_getTrigger","close","onAfterRendering","getGrowingScrollToLoad","oScrollDelegate","getScrollDelegate","onScrollToLoad","bind","getGrowingDirection","_updateTrigger","_updateTriggerDelayed","onsapdown","oEvent","_oItemNavigation","isMarked","aItemDomRefs","getItemDomRefs","sDir","Upwards","type","target","$Trigger","trigger","setMarked","stopImmediatePropagation","getDomRef","onsapup","setTriggerText","sText","text","reset","bPageSizeOnly","oBindingInfo","getBindingInfo","oExtendedChangeDetectionConfig","template","replace","forEach","oItem","shouldReset","sChangeReason","mChangeReason","Sort","Filter","Context","getInfo","total","getMaxItemsCount","actual","_oScrollPosition","left","getScrollLeft","top","getScrollHeight","requestNewPage","oBinding","getBinding","isLengthFinal","_bBusy","getGrowingThreshold","updateItems","_onBeforePageLoaded","onBeforePageLoaded","_onAfterPageLoaded","onAfterPageLoaded","sTriggerID","sTriggerText","getGrowingTriggerText","getLibraryResourceBundle","getText","addNavSection","id","busyIndicatorDelay","Active","content","getList","TagName","setGroupedItem","setParent","attachPress","onsapenter","preventDefault","onsapspace","_bSpaceKeyPressed","setActive","onkeydown","_bSpaceKeyCancelled","shiftKey","which","onkeyup","$oTrigger","removeAttr","attr","tabindex","role","_getListItemInfo","aCounts","_getItemCounts","oFormat","getFloatInstance","format","_getGroupingPath","aSorters","oSorter","sPath","_getDomIndex","vIndex","hasPopin","_getHasScrollbars","window","innerHeight","getMaxScrollTop","offsetHeight","destroyListItems","bSuppressInvalidate","destroyItems","addListItem","oContext","binding","createListItem","isGrouped","aItems","oLastItem","sModelName","model","oGroupInfo","getGroup","getBindingContext","isGroupHeader","removeAggregation","setLastGroupHeader","_fnAppendGroupItem","appendGroupItem","key","oGroupHeader","groupHeaderFactory","getGroupHeaderTemplate","applyPendingGroupItem","oLastGroupHeader","getLastGroupHeader","invalidate","addAggregation","push","undefined","addItemGroup","fillItemsPool","oTemplate","i","iLimit","Math","min","factory","getCells","observe","aggregations","shift","setBindingContext","createItem","updateItemsBindingContext","aContexts","oModel","c","applyChunk","vInsert","bAsync","iTimer","_iChunkTimer","iLength","oDomRef","getItemsContainerDomRef","clearTimeout","shouldRenderItems","reverse","createRenderManager","_bHadFocus","contains","document","activeElement","flush","focus","getBusy","applyChunkAsync","_bApplyChunkAsync","setTimeout","addListItems","rebuildListItems","insertListItem","iIndex","insertAggregation","deleteListItem","refreshItems","isA","checkGrowingFromScratch","attachEventOnce","getContexts","sGroupingPath","dataRequested","diff","aDiff","shouldGrowingSuppressInvalidation","bFromScratch","vInsertIndex","oDiff","index","removeGroupHeaders","iLastInsertIndex","iDiffIndex","_onBindingDataReceivedListener","getParameter","bLoading","oTrigger","bVisibleItems","getVisibleItems","setBusy","toggleClass","css","iItemsLength","iBindingLength","getLength","bLengthFinal","bHasScrollToLoad","oTriggerDomRef","getNavigationRoot","oFocusTarget","removeClass","oBundle","addClass","adaptTriggerButtonWidth","oScrollPosition","scrollTo","shouldRenderDummyColumn","hasClass","requestAnimationFrame","bIsDestroyed","sCalWidth","Array","from","childNodes","slice","map","sWidth","getAttribute","includes","getBoundingClientRect","width","join","classList","add","sIdSuffix","uid"],"sources":["GrowingEnablement-dbg.js"],"mappings":"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"}
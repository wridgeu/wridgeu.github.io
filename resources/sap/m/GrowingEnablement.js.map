{"version":3,"file":"GrowingEnablement.js","names":["sap","ui","define","BaseObject","NumberFormat","library","ChangeReason","ManagedObjectMetadata","HTML","CustomListItem","encodeXML","Core","jQuery","ListType","ListGrowingDirection","GrowingEnablement","extend","constructor","oControl","apply","this","_oControl","bUseExtendedChangeDetection","addDelegate","iRenderedItemsLength","getItems","length","_iRenderedDataItems","_iLimit","_bLoading","_sGroupingPath","_bDataRequested","_bSkippedItemsUpdateUntilDataReceived","_iLastItemsCount","_iTriggerTimer","_aChunk","_oRM","_aItemsPool","destroy","_oTrigger","_oScrollDelegate","setGrowingList","clearItemsPool","$","remove","removeDelegate","render","oRm","openStart","getId","class","style","openEnd","renderControl","_getTrigger","close","onAfterRendering","getGrowingScrollToLoad","oScrollDelegate","getScrollDelegate","onScrollToLoad","bind","getGrowingDirection","_updateTrigger","_updateTriggerDelayed","onsapdown","oEvent","_oItemNavigation","isMarked","aItemDomRefs","getItemDomRefs","sDir","Upwards","type","target","$Trigger","trigger","setMarked","stopImmediatePropagation","getDomRef","onsapup","setTriggerText","sText","text","reset","bPageSizeOnly","oBindingInfo","getBindingInfo","oExtendedChangeDetectionConfig","template","replace","forEach","oItem","shouldReset","sChangeReason","mChangeReason","Sort","Filter","Context","getInfo","total","getMaxItemsCount","actual","oTriggerButton","display","_oScrollPosition","left","getScrollLeft","top","getScrollHeight","requestNewPage","oBinding","getBinding","isLengthFinal","_bBusy","getGrowingThreshold","updateItems","_onBeforePageLoaded","onBeforePageLoaded","_onAfterPageLoaded","onAfterPageLoaded","sTriggerID","sTriggerText","getGrowingTriggerText","getLibraryResourceBundle","getText","addNavSection","id","busyIndicatorDelay","Active","content","getList","TagName","setGroupedItem","setParent","attachPress","onsapenter","preventDefault","onsapspace","_bSpaceKeyPressed","setActive","onkeydown","_bSpaceKeyCancelled","shiftKey","which","onkeyup","$oTrigger","removeAttr","attr","tabindex","role","_getListItemInfo","aCounts","_getItemCounts","oFormat","getFloatInstance","format","_getGroupingPath","aSorters","oSorter","sPath","_getDomIndex","vIndex","hasPopin","_getHasScrollbars","window","innerHeight","getMaxScrollTop","clientHeight","destroyListItems","bSuppressInvalidate","destroyItems","addListItem","oContext","binding","createListItem","isGrouped","aItems","oLastItem","sModelName","model","oGroupInfo","getGroup","getBindingContext","isGroupHeader","removeAggregation","setLastGroupHeader","_fnAppendGroupItem","appendGroupItem","key","oGroupHeader","groupHeaderFactory","getGroupHeaderTemplate","applyPendingGroupItem","oLastGroupHeader","getLastGroupHeader","invalidate","addAggregation","push","undefined","addItemGroup","fillItemsPool","iLimit","i","factory","shift","setBindingContext","createItem","updateItemsBindingContext","aContexts","oModel","c","applyChunk","vInsert","bAsync","iTimer","_iChunkTimer","iLength","oDomRef","getItemsContainerDomRef","clearTimeout","shouldRenderItems","reverse","createRenderManager","bHasFocus","contains","document","activeElement","flush","focus","applyChunkAsync","_bApplyChunkAsync","setTimeout","addListItems","rebuildListItems","insertListItem","iIndex","insertAggregation","deleteListItem","refreshItems","isA","checkGrowingFromScratch","attachEventOnce","getContexts","sGroupingPath","dataRequested","diff","aDiff","shouldGrowingSuppressInvalidation","bFromScratch","vInsertIndex","oDiff","index","removeGroupHeaders","iLastInsertIndex","iDiffIndex","_onBindingDataReceivedListener","getParameter","bLoading","cancelAnimationFrame","requestAnimationFrame","oTrigger","bVisibleItems","getVisibleItems","setBusy","toggleClass","css","iItemsLength","iBindingLength","getLength","bLengthFinal","bHasScrollToLoad","oTriggerDomRef","removeClass","oBundle","addClass","adaptTriggerButtonWidth","oScrollPosition","scrollTo","shouldRenderDummyColumn","hasClass","bIsDestroyed","sCalWidth","Array","from","childNodes","slice","map","sWidth","getAttribute","includes","getBoundingClientRect","width","join","classList","add","sIdSuffix","uid"],"sources":["GrowingEnablement-dbg.js"],"mappings":"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"}
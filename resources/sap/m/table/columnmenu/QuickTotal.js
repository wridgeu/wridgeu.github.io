/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/table/columnmenu/QuickActionBase","sap/m/ToggleButton"],function(t,e){"use strict";var n=t.extend("sap.m.table.columnmenu.QuickTotal",{metadata:{library:"sap.m",aggregations:{items:{type:"sap.m.table.columnmenu.QuickTotalItem",multiple:true}},events:{change:{parameters:{key:{type:"string"},totaled:{type:"boolean"}}}}}});n.prototype.exit=function(){this.destroyContent()};n.prototype.getLabel=function(){var t=sap.ui.getCore().getLibraryResourceBundle("sap.m");return t.getText("table.COLUMNMENU_QUICK_TOTAL")};n.prototype.getContent=function(){if(!this._aContent){this._aContent=this.createContent(this.getItems());this._aContent.forEach(function(t){this.addDependent(t)}.bind(this))}return this._aContent};n.prototype.addItem=function(t){this.destroyContent();return this.addAggregation("items",t)};n.prototype.insertItem=function(t,e){this.destroyContent();return this.insertAggregation("items",t,e)};n.prototype.removeItem=function(t){this.destroyContent();return this.removeAggregation("items",t)};n.prototype.removeAllItems=function(){this.destroyContent();return this.removeAllAggregation("items")};n.prototype.destroyItems=function(){this.destroyContent();return this.destroyAggregation("items")};n.prototype.createContent=function(t){return t.map(function(t){return new e({text:t.getLabel(),pressed:t.getTotaled(),press:[t,this.onChange,this]})},this)};n.prototype.destroyContent=function(){if(this._aContent){this._aContent.forEach(function(t){t.destroy()});delete this._aContent}};n.prototype._updateContent=function(){var t=this.getItems();var n=this.getContent();var o,r;for(var s=0;s<t.length;s++){o=t[s];r=n[s];if(!r){r=new e({press:[o,this.onChange,this]})}r.setText(o.getLabel());r.setPressed(o.getTotaled())}for(var s=t.length;s<n.length;s++){n[s].destroy()}};n.prototype.onChange=function(t,e){e.setProperty("totaled",t.getParameters().pressed,true);this.fireChange({item:e});this.getMenu().close()};return n});
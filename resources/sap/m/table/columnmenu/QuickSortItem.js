/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./QuickActionItem","./QuickAction","sap/m/ToggleButton","sap/ui/core/library"],function(e,t,r,n){"use strict";var i=n.SortOrder;var s=e.extend("sap.m.table.columnmenu.QuickSortItem",{metadata:{library:"sap.m",properties:{sortOrder:{type:"sap.ui.core.SortOrder",defaultValue:n.SortOrder.None}},aggregations:{quickAction:{type:"sap.m.table.columnmenu.QuickAction",multiple:false,visibility:"hidden"}}}});s.prototype._getAction=function(){var e=this.getAggregation("quickAction");var r=this._getLabel(this.getParent().getItems().length);if(e){e.setLabel(r)}else{e=new t({label:r,content:[this._createContent()]})}this.setAggregation("quickAction",e,true);return e};s.prototype._getLabel=function(e){var t=sap.ui.getCore().getLibraryResourceBundle("sap.m");if(e===1){return t.getText("table.COLUMNMENU_QUICK_SORT")}else{return t.getText("table.COLUMNMENU_SORT_BY",this.getLabel())}};s.prototype._createContent=function(){var e=sap.ui.getCore().getLibraryResourceBundle("sap.m");return[new r({text:e.getText("table.COLUMNMENU_SORT_ASCENDING"),pressed:this.getSortOrder()===i.Ascending,press:[{item:this,sortOrder:i.Ascending},this._onSortChange,this]}),new r({text:e.getText("table.COLUMNMENU_SORT_DESCENDING"),pressed:this.getSortOrder()===i.Descending,press:[{item:this,sortOrder:i.Descending},this._onSortChange,this]})]};s.prototype._onSortChange=function(e,t){this.setSortOrder(e.getParameters().pressed?t.sortOrder:i.None,true);this.getParent().onChange(t.item)};s.prototype.setSortOrder=function(e){this.setProperty("sortOrder",e);var t=this.getAggregation("quickAction");if(t){var r=t.getContent();r[0].setPressed(e===i.Ascending);r[1].setPressed(e===i.Descending)}};return s});